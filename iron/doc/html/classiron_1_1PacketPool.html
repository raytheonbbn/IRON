<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>IRON: iron::PacketPool Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IRON
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classiron_1_1PacketPool.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classiron_1_1PacketPool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">iron::PacketPool Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="packet__pool_8h_source.html">packet_pool.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for iron::PacketPool:</div>
<div class="dyncontent">
<div class="center"><img src="classiron_1_1PacketPool__inherit__graph.png" border="0" usemap="#iron_1_1PacketPool_inherit__map" alt="Inheritance graph"/></div>
<map name="iron_1_1PacketPool_inherit__map" id="iron_1_1PacketPool_inherit__map">
<area shape="rect" id="node2" href="classiron_1_1PacketPoolHeap.html" title="A class for the creation of a packet pool on the heap. " alt="" coords="5,80,155,107"/>
<area shape="rect" id="node3" href="classiron_1_1PacketPoolShm.html" title="A class for the creation of a packet pool in shared memory. " alt="" coords="179,80,325,107"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9f8c842a3478d3f17851c06bf4f858f8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f8c842a3478d3f17851c06bf4f858f8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#a9f8c842a3478d3f17851c06bf4f858f8">PacketPool</a> ()</td></tr>
<tr class="memdesc:a9f8c842a3478d3f17851c06bf4f858f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br /></td></tr>
<tr class="separator:a9f8c842a3478d3f17851c06bf4f858f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acffe5deac7c9ea09242a7b2e9ec01b12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#acffe5deac7c9ea09242a7b2e9ec01b12">PacketPool</a> (<a class="el" href="namespaceiron.html#a864a6d7827d70562024605660e233435">PacketOwner</a> owner)</td></tr>
<tr class="memdesc:acffe5deac7c9ea09242a7b2e9ec01b12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor specifying the packet owner for packet tracking.  <a href="#acffe5deac7c9ea09242a7b2e9ec01b12">More...</a><br /></td></tr>
<tr class="separator:acffe5deac7c9ea09242a7b2e9ec01b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a937e3c16f60fe8ebc91cdd2ac55ef31c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a937e3c16f60fe8ebc91cdd2ac55ef31c"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#a937e3c16f60fe8ebc91cdd2ac55ef31c">~PacketPool</a> ()</td></tr>
<tr class="memdesc:a937e3c16f60fe8ebc91cdd2ac55ef31c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a937e3c16f60fe8ebc91cdd2ac55ef31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaec8c15040c71e56e36b327879744de9"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classiron_1_1Packet.html">Packet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#aaec8c15040c71e56e36b327879744de9">Get</a> (<a class="el" href="namespaceiron.html#aba594a8c6649f79e4d75062cd27f83e1">PacketRecvTimeMode</a> timestamp=PACKET_NO_TIMESTAMP)=0</td></tr>
<tr class="memdesc:aaec8c15040c71e56e36b327879744de9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a <a class="el" href="classiron_1_1Packet.html">Packet</a> object from the pool.  <a href="#aaec8c15040c71e56e36b327879744de9">More...</a><br /></td></tr>
<tr class="separator:aaec8c15040c71e56e36b327879744de9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abed806a1cd76063f159fdb5182d7c11f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#abed806a1cd76063f159fdb5182d7c11f">PacketShallowCopy</a> (<a class="el" href="classiron_1_1Packet.html">Packet</a> *packet)=0</td></tr>
<tr class="memdesc:abed806a1cd76063f159fdb5182d7c11f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a shallow copy of a <a class="el" href="classiron_1_1Packet.html">Packet</a>.  <a href="#abed806a1cd76063f159fdb5182d7c11f">More...</a><br /></td></tr>
<tr class="separator:abed806a1cd76063f159fdb5182d7c11f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff717d09c7fc12c2a2bdaf6592030b2b"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classiron_1_1Packet.html">Packet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#aff717d09c7fc12c2a2bdaf6592030b2b">Clone</a> (<a class="el" href="classiron_1_1Packet.html">Packet</a> *to_clone, bool full_copy, <a class="el" href="namespaceiron.html#aba594a8c6649f79e4d75062cd27f83e1">PacketRecvTimeMode</a> timestamp)=0</td></tr>
<tr class="memdesc:aff717d09c7fc12c2a2bdaf6592030b2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a deep copy of a <a class="el" href="classiron_1_1Packet.html">Packet</a>.  <a href="#aff717d09c7fc12c2a2bdaf6592030b2b">More...</a><br /></td></tr>
<tr class="separator:aff717d09c7fc12c2a2bdaf6592030b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18c4dd982e34eade6f303d4742463382"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classiron_1_1Packet.html">Packet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#a18c4dd982e34eade6f303d4742463382">CloneHeaderOnly</a> (<a class="el" href="classiron_1_1Packet.html">Packet</a> *to_clone, <a class="el" href="namespaceiron.html#aba594a8c6649f79e4d75062cd27f83e1">PacketRecvTimeMode</a> timestamp)=0</td></tr>
<tr class="memdesc:a18c4dd982e34eade6f303d4742463382"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a deep copy of a <a class="el" href="classiron_1_1Packet.html">Packet</a>'s header.  <a href="#a18c4dd982e34eade6f303d4742463382">More...</a><br /></td></tr>
<tr class="separator:a18c4dd982e34eade6f303d4742463382"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e86aeb2a9f00aa9d58be9820979006"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classiron_1_1Packet.html">Packet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#af4e86aeb2a9f00aa9d58be9820979006">GetPacketFromIndex</a> (<a class="el" href="namespaceiron.html#a8a472e39b1090e6ef51b392d351e5dea">PktMemIndex</a> index)=0</td></tr>
<tr class="memdesc:af4e86aeb2a9f00aa9d58be9820979006"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="classiron_1_1Packet.html">Packet</a> for a specific memory index.  <a href="#af4e86aeb2a9f00aa9d58be9820979006">More...</a><br /></td></tr>
<tr class="separator:af4e86aeb2a9f00aa9d58be9820979006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0e0d3eb346f344a518da6d57c981a62"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#ae0e0d3eb346f344a518da6d57c981a62">Recycle</a> (<a class="el" href="classiron_1_1Packet.html">Packet</a> *packet)=0</td></tr>
<tr class="memdesc:ae0e0d3eb346f344a518da6d57c981a62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a <a class="el" href="classiron_1_1Packet.html">Packet</a> to the pool for reuse.  <a href="#ae0e0d3eb346f344a518da6d57c981a62">More...</a><br /></td></tr>
<tr class="separator:ae0e0d3eb346f344a518da6d57c981a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3ad4f62261d0dd678f231ab07d3859b"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#ae3ad4f62261d0dd678f231ab07d3859b">GetSize</a> ()=0</td></tr>
<tr class="memdesc:ae3ad4f62261d0dd678f231ab07d3859b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of Packets in the pool.  <a href="#ae3ad4f62261d0dd678f231ab07d3859b">More...</a><br /></td></tr>
<tr class="separator:ae3ad4f62261d0dd678f231ab07d3859b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f373035518b64577f243e3e0f5da34a"><td class="memItemLeft" align="right" valign="top">virtual uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#a6f373035518b64577f243e3e0f5da34a">GetLocationRef</a> (const char *file, int line, bool held=false, bool expected_drop=true)=0</td></tr>
<tr class="memdesc:a6f373035518b64577f243e3e0f5da34a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a unique 16-bit index for a given file name and line number.  <a href="#a6f373035518b64577f243e3e0f5da34a">More...</a><br /></td></tr>
<tr class="separator:a6f373035518b64577f243e3e0f5da34a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951a5252ba4ff847ed8222590fec4b45"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#a951a5252ba4ff847ed8222590fec4b45">DerefLocation</a> (uint16_t location)=0</td></tr>
<tr class="memdesc:a951a5252ba4ff847ed8222590fec4b45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translate the location index back into a string representation of the correponding file name and line number.  <a href="#a951a5252ba4ff847ed8222590fec4b45">More...</a><br /></td></tr>
<tr class="separator:a951a5252ba4ff847ed8222590fec4b45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea9e4e8c303a0e1e210cc631e33aa0e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#acea9e4e8c303a0e1e210cc631e33aa0e">RecordDrop</a> (uint16_t location)=0</td></tr>
<tr class="memdesc:acea9e4e8c303a0e1e210cc631e33aa0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count a packet drop from this code location.  <a href="#acea9e4e8c303a0e1e210cc631e33aa0e">More...</a><br /></td></tr>
<tr class="separator:acea9e4e8c303a0e1e210cc631e33aa0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98bd7c5956db6ded327b9e6e08924aa3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceiron.html#a864a6d7827d70562024605660e233435">PacketOwner</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#a98bd7c5956db6ded327b9e6e08924aa3">packet_owner</a> ()</td></tr>
<tr class="memdesc:a98bd7c5956db6ded327b9e6e08924aa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the component who will own packets taken from this pool instance.  <a href="#a98bd7c5956db6ded327b9e6e08924aa3">More...</a><br /></td></tr>
<tr class="separator:a98bd7c5956db6ded327b9e6e08924aa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ff2f52b6770ac041d239dc1c47e5d8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#a6ff2f52b6770ac041d239dc1c47e5d8e">AssignPacketId</a> (<a class="el" href="classiron_1_1Packet.html">Packet</a> *packet)</td></tr>
<tr class="memdesc:a6ff2f52b6770ac041d239dc1c47e5d8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts the next available packet id in the packet.  <a href="#a6ff2f52b6770ac041d239dc1c47e5d8e">More...</a><br /></td></tr>
<tr class="separator:a6ff2f52b6770ac041d239dc1c47e5d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a635c354b8039f69d0148e8ac093aba67"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#a635c354b8039f69d0148e8ac093aba67">GetNextIpId</a> ()</td></tr>
<tr class="memdesc:a635c354b8039f69d0148e8ac093aba67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the next available IP ID value.  <a href="#a635c354b8039f69d0148e8ac093aba67">More...</a><br /></td></tr>
<tr class="separator:a635c354b8039f69d0148e8ac093aba67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a3c7aaea8f0d748520e7bf37c2e2bf464"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c7aaea8f0d748520e7bf37c2e2bf464"></a>
<a class="el" href="namespaceiron.html#a864a6d7827d70562024605660e233435">PacketOwner</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1PacketPool.html#a3c7aaea8f0d748520e7bf37c2e2bf464">packet_owner_</a></td></tr>
<tr class="memdesc:a3c7aaea8f0d748520e7bf37c2e2bf464"><td class="mdescLeft">&#160;</td><td class="mdescRight">The owner of the packet pool. <br /></td></tr>
<tr class="separator:a3c7aaea8f0d748520e7bf37c2e2bf464"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The abstract base class for all packet pools. The <a class="el" href="classiron_1_1PacketPool.html#aaec8c15040c71e56e36b327879744de9" title="Get a Packet object from the pool. ">Get()</a> method is called when a new <a class="el" href="classiron_1_1Packet.html">Packet</a> object is required. The packets are returned to the pool with <a class="el" href="classiron_1_1PacketPool.html#ae0e0d3eb346f344a518da6d57c981a62" title="Return a Packet to the pool for reuse. ">Recycle()</a>, as they cannot be deleted. </p>

<p>Definition at line <a class="el" href="packet__pool_8h_source.html#l00154">154</a> of file <a class="el" href="packet__pool_8h_source.html">packet_pool.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="acffe5deac7c9ea09242a7b2e9ec01b12"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">iron::PacketPool::PacketPool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a864a6d7827d70562024605660e233435">PacketOwner</a>&#160;</td>
          <td class="paramname"><em>owner</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor specifying the packet owner for packet tracking. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">owner</td><td>The component who owns this packet pool. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="packet__pool_8h_source.html#l00177">177</a> of file <a class="el" href="packet__pool_8h_source.html">packet_pool.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6ff2f52b6770ac041d239dc1c47e5d8e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void iron::PacketPool::AssignPacketId </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiron_1_1Packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Puts the next available packet id in the packet. </p>
<p>Updates the counter for the next packet.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>To be assigned an Id. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="packet__pool_8h_source.html#l00375">375</a> of file <a class="el" href="packet__pool_8h_source.html">packet_pool.h</a>.</p>

</div>
</div>
<a class="anchor" id="aff717d09c7fc12c2a2bdaf6592030b2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classiron_1_1Packet.html">Packet</a>* iron::PacketPool::Clone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiron_1_1Packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>to_clone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>full_copy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#aba594a8c6649f79e4d75062cd27f83e1">PacketRecvTimeMode</a>&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a deep copy of a <a class="el" href="classiron_1_1Packet.html">Packet</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to_clone</td><td>A pointer to the <a class="el" href="classiron_1_1Packet.html">Packet</a> object to copy. </td></tr>
    <tr><td class="paramname">full_copy</td><td>If true, this will copy all internal state in the packet so that both copies have the same transmission state (e.g., for multicast splits). If false, only header and data is copied (e.g., for retransmissions). </td></tr>
    <tr><td class="paramname">timestamp</td><td>Specifies how the returned <a class="el" href="classiron_1_1Packet.html">Packet</a> object's receive time is set: PACKET_NO_TIMESTAMP : Do not set the receive time. PACKET_NOW_TIMESTAMP : Set the receive time to now. PACKET_COPY_TIMESTAMP : Copy the receive time from the original packet.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the new <a class="el" href="classiron_1_1Packet.html">Packet</a> object. </dd></dl>

<p>Implemented in <a class="el" href="classiron_1_1PacketPoolShm.html#ad2220ba63709c350a2e7eb9212a4230c">iron::PacketPoolShm</a>, and <a class="el" href="classiron_1_1PacketPoolHeap.html#ad0912594a7cc1ae01ff99e5b4f3b30f2">iron::PacketPoolHeap</a>.</p>

</div>
</div>
<a class="anchor" id="a18c4dd982e34eade6f303d4742463382"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classiron_1_1Packet.html">Packet</a>* iron::PacketPool::CloneHeaderOnly </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiron_1_1Packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>to_clone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#aba594a8c6649f79e4d75062cd27f83e1">PacketRecvTimeMode</a>&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a deep copy of a <a class="el" href="classiron_1_1Packet.html">Packet</a>'s header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to_clone</td><td>A pointer to the <a class="el" href="classiron_1_1Packet.html">Packet</a> object to copy. </td></tr>
    <tr><td class="paramname">timestamp</td><td>Specifies how the returned <a class="el" href="classiron_1_1Packet.html">Packet</a> object's receive time is set: PACKET_NO_TIMESTAMP : Do not set the receive time. PACKET_NOW_TIMESTAMP : Set the receive time to now. PACKET_COPY_TIMESTAMP : Copy the receive time from the original packet.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the new <a class="el" href="classiron_1_1Packet.html">Packet</a> object. </dd></dl>

<p>Implemented in <a class="el" href="classiron_1_1PacketPoolShm.html#aebc8d8e020e8766adf806408327c9907">iron::PacketPoolShm</a>, and <a class="el" href="classiron_1_1PacketPoolHeap.html#a2ebe2f303389d35a12835dc8854cd96d">iron::PacketPoolHeap</a>.</p>

</div>
</div>
<a class="anchor" id="a951a5252ba4ff847ed8222590fec4b45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string iron::PacketPool::DerefLocation </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>location</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Translate the location index back into a string representation of the correponding file name and line number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The 16-bit unsigned integer that uniquely (per component) refers back to a file name and line number location from which this location was logged.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A string representation of the file name and line number (plus an indication if we expect packets to be held at this location indefinitely). </dd></dl>

<p>Implemented in <a class="el" href="classiron_1_1PacketPoolShm.html#a8b77b452ffebfdcf129ff5ccabe3222c">iron::PacketPoolShm</a>, and <a class="el" href="classiron_1_1PacketPoolHeap.html#a875c0d6a5cfa210b6f835b7d1b226e10">iron::PacketPoolHeap</a>.</p>

</div>
</div>
<a class="anchor" id="aaec8c15040c71e56e36b327879744de9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classiron_1_1Packet.html">Packet</a>* iron::PacketPool::Get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#aba594a8c6649f79e4d75062cd27f83e1">PacketRecvTimeMode</a>&#160;</td>
          <td class="paramname"><em>timestamp</em> = <code>PACKET_NO_TIMESTAMP</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a <a class="el" href="classiron_1_1Packet.html">Packet</a> object from the pool. </p>
<p>This will zero the length of the <a class="el" href="classiron_1_1Packet.html">Packet</a> object before returning it.</p>
<p>Note that PACKET_COPY_TIMESTAMP is not a valid option for this method and will result in a fatal log message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timestamp</td><td>Specifies how the returned <a class="el" href="classiron_1_1Packet.html">Packet</a> object's receive time is set: PACKET_NO_TIMESTAMP : Do not set the receive time. PACKET_NOW_TIMESTAMP : Set the receive time to now. Optional. Defaults to PACKET_NO_TIMESTAMP.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the <a class="el" href="classiron_1_1Packet.html">Packet</a> object. If a packet cannot be found, this method creates a fatal log message and expects an abort. </dd></dl>

<p>Implemented in <a class="el" href="classiron_1_1PacketPoolShm.html#a8438143772677bd620b636724c80e96f">iron::PacketPoolShm</a>, and <a class="el" href="classiron_1_1PacketPoolHeap.html#aab6a112d3aec6f9559f89a379b8deb71">iron::PacketPoolHeap</a>.</p>

</div>
</div>
<a class="anchor" id="a6f373035518b64577f243e3e0f5da34a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint16_t iron::PacketPool::GetLocationRef </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>held</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>expected_drop</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a unique 16-bit index for a given file name and line number. </p>
<p>This is intended to be called using the NEW_PKT_LOC macro. The returned unique index can be stored in the <a class="el" href="classiron_1_1Packet.html">Packet</a> using Packet::NewPacketLocation(), so that if a <a class="el" href="classiron_1_1Packet.html">Packet</a> is deemed "stuck" (owned by the same component for a long time), we can tell which location (file and line) last saw the <a class="el" href="classiron_1_1Packet.html">Packet</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>The string returned by <b>FILE</b>, representing the place from which this function is called. </td></tr>
    <tr><td class="paramname">line</td><td>The integer returned by <b>LINE</b>, representing the place from which this function is called. </td></tr>
    <tr><td class="paramname">held</td><td>True if this location in the code is one where we expect to hold onto Packets indefinitely. If a "stuck" <a class="el" href="classiron_1_1Packet.html">Packet</a> is found that was last seen here, that <a class="el" href="classiron_1_1Packet.html">Packet</a> is ignored when reporting stuckness. Defaults to false. </td></tr>
    <tr><td class="paramname">expected_drop</td><td>True if this location in the code is one where we expect packets to be dropped if the right conditions apply (i.e., not an error condition). Defaults to true.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A unique 16-bit unsigned integer that can be stored in the <a class="el" href="classiron_1_1Packet.html">Packet</a> to track this location, and can be dereferenced back to the file name and line number using DerefLocation. </dd></dl>

<p>Implemented in <a class="el" href="classiron_1_1PacketPoolShm.html#a92dafd1f0d33989ff36218cd45d0cf3a">iron::PacketPoolShm</a>, and <a class="el" href="classiron_1_1PacketPoolHeap.html#acf5b8e05ab6b8c8249b6b01064bf60ca">iron::PacketPoolHeap</a>.</p>

</div>
</div>
<a class="anchor" id="a635c354b8039f69d0148e8ac093aba67"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t iron::PacketPool::GetNextIpId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the next available IP ID value. </p>
<p>Updates the counter for the next packet.</p>
<dl class="section return"><dt>Returns</dt><dd>The ID value. </dd></dl>

<p>Definition at line <a class="el" href="packet__pool_8h_source.html#l00390">390</a> of file <a class="el" href="packet__pool_8h_source.html">packet_pool.h</a>.</p>

</div>
</div>
<a class="anchor" id="af4e86aeb2a9f00aa9d58be9820979006"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classiron_1_1Packet.html">Packet</a>* iron::PacketPool::GetPacketFromIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a8a472e39b1090e6ef51b392d351e5dea">PktMemIndex</a>&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the <a class="el" href="classiron_1_1Packet.html">Packet</a> for a specific memory index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>The index that locates the <a class="el" href="classiron_1_1Packet.html">Packet</a> object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the <a class="el" href="classiron_1_1Packet.html">Packet</a> object. If an error occurs, this method creates a fatal log message and expects an abort. </dd></dl>

<p>Implemented in <a class="el" href="classiron_1_1PacketPoolShm.html#a1dc616dff00a6a26ebccc9058f5e044f">iron::PacketPoolShm</a>, and <a class="el" href="classiron_1_1PacketPoolHeap.html#aafeed3d9a383011cf9b75e7f45702f23">iron::PacketPoolHeap</a>.</p>

</div>
</div>
<a class="anchor" id="ae3ad4f62261d0dd678f231ab07d3859b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t iron::PacketPool::GetSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of Packets in the pool. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of <a class="el" href="classiron_1_1Packet.html">Packet</a> objects in the pool. </dd></dl>

<p>Implemented in <a class="el" href="classiron_1_1PacketPoolShm.html#a6fdfc3f87af528b2266b232a4132f238">iron::PacketPoolShm</a>, and <a class="el" href="classiron_1_1PacketPoolHeap.html#a9afb0b10d9de15e99436f1d79e2c6b2c">iron::PacketPoolHeap</a>.</p>

</div>
</div>
<a class="anchor" id="a98bd7c5956db6ded327b9e6e08924aa3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceiron.html#a864a6d7827d70562024605660e233435">PacketOwner</a> iron::PacketPool::packet_owner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the component who will own packets taken from this pool instance. </p>
<dl class="section return"><dt>Returns</dt><dd>The component who owns this packet pool. </dd></dl>

<p>Definition at line <a class="el" href="packet__pool_8h_source.html#l00365">365</a> of file <a class="el" href="packet__pool_8h_source.html">packet_pool.h</a>.</p>

</div>
</div>
<a class="anchor" id="abed806a1cd76063f159fdb5182d7c11f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void iron::PacketPool::PacketShallowCopy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiron_1_1Packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Make a shallow copy of a <a class="el" href="classiron_1_1Packet.html">Packet</a>. </p>
<p>This is a wrapper around the ShallowCopy function in the <a class="el" href="classiron_1_1Packet.html">Packet</a> class, necessary to accomplish packet tracking functionality within the pool.</p>
<p>This is generally utilized when one thread/process needs to keep a reference to the <a class="el" href="classiron_1_1Packet.html">Packet</a> and pass the <a class="el" href="classiron_1_1Packet.html">Packet</a> to another thread/process for processing. The result of this is an increase in the reference count.</p>
<p>Note that if it is the case that more than one thread/process has a reference to the <a class="el" href="classiron_1_1Packet.html">Packet</a>, modifications to the contents of the <a class="el" href="classiron_1_1Packet.html">Packet</a> are not protected. Modifications to the reference counts are the only protected operations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>A pointer to the <a class="el" href="classiron_1_1Packet.html">Packet</a> object to copy. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classiron_1_1PacketPoolShm.html#a97da29e178557d056a4c9c35bc1f6acc">iron::PacketPoolShm</a>, and <a class="el" href="classiron_1_1PacketPoolHeap.html#a3c41a5d7a931f379bd3da04bfb1621aa">iron::PacketPoolHeap</a>.</p>

</div>
</div>
<a class="anchor" id="acea9e4e8c303a0e1e210cc631e33aa0e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void iron::PacketPool::RecordDrop </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>location</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Count a packet drop from this code location. </p>
<p>Expected to be called from macros TRACK_EXPECTED_DROP and TRACK_UNEXPECTED_DROP.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>The 16-bit unsigned integer that uniquely (per component) refers back to a file name and line number where this packet was dropped. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classiron_1_1PacketPoolShm.html#a5899ef769af423108c9a5746adbfc0ec">iron::PacketPoolShm</a>, and <a class="el" href="classiron_1_1PacketPoolHeap.html#a327b969367841fdb44ed307e12a662fb">iron::PacketPoolHeap</a>.</p>

</div>
</div>
<a class="anchor" id="ae0e0d3eb346f344a518da6d57c981a62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void iron::PacketPool::Recycle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiron_1_1Packet.html">Packet</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a <a class="el" href="classiron_1_1Packet.html">Packet</a> to the pool for reuse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>A pointer to the <a class="el" href="classiron_1_1Packet.html">Packet</a> object to be returned to the pool. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classiron_1_1PacketPoolShm.html#abe3f0116d8a3b0115626754035df81d3">iron::PacketPoolShm</a>, and <a class="el" href="classiron_1_1PacketPoolHeap.html#a9672609dc58080d32677bd77acae1774">iron::PacketPoolHeap</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/szabele/github/IRON/iron/common/include/<a class="el" href="packet__pool_8h_source.html">packet_pool.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceiron.html">iron</a></li><li class="navelem"><a class="el" href="classiron_1_1PacketPool.html">PacketPool</a></li>
    <li class="footer">Generated on Fri Feb 26 2021 11:31:59 for IRON by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
