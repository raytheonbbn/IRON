<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>IRON: iron::RemoteControl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IRON
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classiron_1_1RemoteControl.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classiron_1_1RemoteControl-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">iron::RemoteControl Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="remote__control_8h_source.html">remote_control.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for iron::RemoteControl:</div>
<div class="dyncontent">
<div class="center"><img src="classiron_1_1RemoteControl__inherit__graph.png" border="0" usemap="#iron_1_1RemoteControl_inherit__map" alt="Inheritance graph"/></div>
<map name="iron_1_1RemoteControl_inherit__map" id="iron_1_1RemoteControl_inherit__map">
<area shape="rect" id="node2" href="classiron_1_1RemoteControlClient.html" title="iron::RemoteControlClient" alt="" coords="5,80,179,107"/>
<area shape="rect" id="node3" href="classiron_1_1RemoteControlServer.html" title="A class for remote control communications. " alt="" coords="203,80,381,107"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for iron::RemoteControl:</div>
<div class="dyncontent">
<div class="center"><img src="classiron_1_1RemoteControl__coll__graph.png" border="0" usemap="#iron_1_1RemoteControl_coll__map" alt="Collaboration graph"/></div>
<map name="iron_1_1RemoteControl_coll__map" id="iron_1_1RemoteControl_coll__map">
<area shape="rect" id="node2" href="classiron_1_1EndpointInfo.html" title="iron::EndpointInfo" alt="" coords="5,95,129,121"/>
<area shape="rect" id="node3" href="classiron_1_1Ipv4Address.html" title="iron::Ipv4Address" alt="" coords="5,5,129,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab044b23a3d09877df6d905949881da4a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab044b23a3d09877df6d905949881da4a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#ab044b23a3d09877df6d905949881da4a">RemoteControl</a> ()</td></tr>
<tr class="memdesc:ab044b23a3d09877df6d905949881da4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default constructor. <br /></td></tr>
<tr class="separator:ab044b23a3d09877df6d905949881da4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0981cf35cb7e0634d7bbc8fc90c06dd5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0981cf35cb7e0634d7bbc8fc90c06dd5"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#a0981cf35cb7e0634d7bbc8fc90c06dd5">~RemoteControl</a> ()</td></tr>
<tr class="memdesc:a0981cf35cb7e0634d7bbc8fc90c06dd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The destructor. <br /></td></tr>
<tr class="separator:a0981cf35cb7e0634d7bbc8fc90c06dd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4632881dba137a72ac7b58afb503d6f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#a4632881dba137a72ac7b58afb503d6f4">AddFileDescriptors</a> (int &amp;max_fd, fd_set &amp;read_fds) const </td></tr>
<tr class="memdesc:a4632881dba137a72ac7b58afb503d6f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add file descriptors to a read mask.  <a href="#a4632881dba137a72ac7b58afb503d6f4">More...</a><br /></td></tr>
<tr class="separator:a4632881dba137a72ac7b58afb503d6f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae41f00e4344d7894314ee21366f4ac5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#ae41f00e4344d7894314ee21366f4ac5a">GetMsgBuffer</a> (rapidjson::StringBuffer &amp;str_buffer)</td></tr>
<tr class="memdesc:ae41f00e4344d7894314ee21366f4ac5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serialize the document object into a string buffer that is ready for transmission.  <a href="#ae41f00e4344d7894314ee21366f4ac5a">More...</a><br /></td></tr>
<tr class="separator:ae41f00e4344d7894314ee21366f4ac5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43ba3ee6be1ab047864feb6e08375d61"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#a43ba3ee6be1ab047864feb6e08375d61">SendMessage</a> (<a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a> *ep, rapidjson::StringBuffer &amp;str_buf)</td></tr>
<tr class="memdesc:a43ba3ee6be1ab047864feb6e08375d61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a JSON-formatted message to an endpoint.  <a href="#a43ba3ee6be1ab047864feb6e08375d61">More...</a><br /></td></tr>
<tr class="separator:a43ba3ee6be1ab047864feb6e08375d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb61a46e0d25743bb6322cbf4e896ea2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#aeb61a46e0d25743bb6322cbf4e896ea2">SendMessage</a> (uint32_t ep_id, rapidjson::StringBuffer &amp;str_buf)</td></tr>
<tr class="memdesc:aeb61a46e0d25743bb6322cbf4e896ea2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a JSON-formatted message to an endpoint, specifed by endpoint ID.  <a href="#aeb61a46e0d25743bb6322cbf4e896ea2">More...</a><br /></td></tr>
<tr class="separator:aeb61a46e0d25743bb6322cbf4e896ea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9dd503a66d5c091b09ee40e6eeeb140"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#af9dd503a66d5c091b09ee40e6eeeb140">ParseJsonMessage</a> (<a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a> *ep)=0</td></tr>
<tr class="memdesc:af9dd503a66d5c091b09ee40e6eeeb140"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a received message into a JSON formatted document document, and extract common message attributes into the remote control object.  <a href="#af9dd503a66d5c091b09ee40e6eeeb140">More...</a><br /></td></tr>
<tr class="separator:af9dd503a66d5c091b09ee40e6eeeb140"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab692c675650349c56f4556640218a668"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab692c675650349c56f4556640218a668"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#ab692c675650349c56f4556640218a668">ResetEndpoint</a> ()</td></tr>
<tr class="memdesc:ab692c675650349c56f4556640218a668"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an endpoint ready to receive a new message after processing an existing message. <br /></td></tr>
<tr class="separator:ab692c675650349c56f4556640218a668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a105a963f9777ccbe968117be7992d119"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#a105a963f9777ccbe968117be7992d119">SetJsonMsgId</a> (uint32_t <a class="el" href="classiron_1_1RemoteControl.html#ab2cb6666d6f4adba69002d16aa8bb91f">msg_id</a>)</td></tr>
<tr class="memdesc:a105a963f9777ccbe968117be7992d119"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the message id inside the json-formatted document.  <a href="#a105a963f9777ccbe968117be7992d119">More...</a><br /></td></tr>
<tr class="separator:a105a963f9777ccbe968117be7992d119"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dae457310db8f6139a0dca2e582a2ac"><td class="memItemLeft" align="right" valign="top">inline::std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#a6dae457310db8f6139a0dca2e582a2ac">msg_target</a> () const </td></tr>
<tr class="memdesc:a6dae457310db8f6139a0dca2e582a2ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the target of the most recently parsed message.  <a href="#a6dae457310db8f6139a0dca2e582a2ac">More...</a><br /></td></tr>
<tr class="separator:a6dae457310db8f6139a0dca2e582a2ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2cb6666d6f4adba69002d16aa8bb91f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#ab2cb6666d6f4adba69002d16aa8bb91f">msg_id</a> () const </td></tr>
<tr class="memdesc:ab2cb6666d6f4adba69002d16aa8bb91f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the message ID of the most recently parsed message.  <a href="#ab2cb6666d6f4adba69002d16aa8bb91f">More...</a><br /></td></tr>
<tr class="separator:ab2cb6666d6f4adba69002d16aa8bb91f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3581cdb3a09de96c9955a6582a59c3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#ad3581cdb3a09de96c9955a6582a59c3d">set_msg_id</a> (uint32_t <a class="el" href="classiron_1_1RemoteControl.html#ab2cb6666d6f4adba69002d16aa8bb91f">msg_id</a>)</td></tr>
<tr class="memdesc:ad3581cdb3a09de96c9955a6582a59c3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the message ID of the most recently parsed message.  <a href="#ad3581cdb3a09de96c9955a6582a59c3d">More...</a><br /></td></tr>
<tr class="separator:ad3581cdb3a09de96c9955a6582a59c3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca33a2f83454267daca317c62fb404d4"><td class="memItemLeft" align="right" valign="top">RmtCntlMsgType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#aca33a2f83454267daca317c62fb404d4">msg_type</a> () const </td></tr>
<tr class="memdesc:aca33a2f83454267daca317c62fb404d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the received remote control request message type.  <a href="#aca33a2f83454267daca317c62fb404d4">More...</a><br /></td></tr>
<tr class="separator:aca33a2f83454267daca317c62fb404d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23c3361a1010a8b35bfbf5fa244c25d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#a23c3361a1010a8b35bfbf5fa244c25d6">endpoint_ready</a> ()</td></tr>
<tr class="memdesc:a23c3361a1010a8b35bfbf5fa244c25d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to an <a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a> object that has a message ready to be parsed and processed.  <a href="#a23c3361a1010a8b35bfbf5fa244c25d6">More...</a><br /></td></tr>
<tr class="separator:a23c3361a1010a8b35bfbf5fa244c25d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf7734db40008214ad57795903a46a4d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#acf7734db40008214ad57795903a46a4d">GetGetMessage</a> (std::string &amp;target, const rapidjson::Value *&amp;key_array) const </td></tr>
<tr class="memdesc:acf7734db40008214ad57795903a46a4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the "get" request message contents.  <a href="#acf7734db40008214ad57795903a46a4d">More...</a><br /></td></tr>
<tr class="separator:acf7734db40008214ad57795903a46a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee678f2f843173328a210f628d225064"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#aee678f2f843173328a210f628d225064">GetPushMessage</a> (uint32_t &amp;client_id, const rapidjson::Value *&amp;key_val) const </td></tr>
<tr class="memdesc:aee678f2f843173328a210f628d225064"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the "push" message contents.  <a href="#aee678f2f843173328a210f628d225064">More...</a><br /></td></tr>
<tr class="separator:aee678f2f843173328a210f628d225064"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a2a34a115bf9f6073882bfdde9ee5562d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#a2a34a115bf9f6073882bfdde9ee5562d">ServiceEndpoints</a> (fd_set &amp;read_fds)</td></tr>
<tr class="memdesc:a2a34a115bf9f6073882bfdde9ee5562d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Service the internal file descriptors.  <a href="#a2a34a115bf9f6073882bfdde9ee5562d">More...</a><br /></td></tr>
<tr class="separator:a2a34a115bf9f6073882bfdde9ee5562d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c7b502b6f46401fea18caa182159aa1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#a9c7b502b6f46401fea18caa182159aa1">GetEpInfo</a> (uint32_t client_id)</td></tr>
<tr class="memdesc:a9c7b502b6f46401fea18caa182159aa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a> for the specified client identifier.  <a href="#a9c7b502b6f46401fea18caa182159aa1">More...</a><br /></td></tr>
<tr class="separator:a9c7b502b6f46401fea18caa182159aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2c90ef26235d700c7a712d3dc0a406b"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#aa2c90ef26235d700c7a712d3dc0a406b">InSet</a> (int socket, fd_set &amp;fds)</td></tr>
<tr class="memdesc:aa2c90ef26235d700c7a712d3dc0a406b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a given file descriptor is in the set.  <a href="#aa2c90ef26235d700c7a712d3dc0a406b">More...</a><br /></td></tr>
<tr class="separator:aa2c90ef26235d700c7a712d3dc0a406b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a1152fff49e2e176494f29d3e2696838b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1152fff49e2e176494f29d3e2696838b"></a>
rapidjson::Document&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#a1152fff49e2e176494f29d3e2696838b">document_</a></td></tr>
<tr class="memdesc:a1152fff49e2e176494f29d3e2696838b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The parsed JSON message. <br /></td></tr>
<tr class="separator:a1152fff49e2e176494f29d3e2696838b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31f74fa3789cb6b86c78a7e092d523c7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31f74fa3789cb6b86c78a7e092d523c7"></a>
RmtCntlMsgType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#a31f74fa3789cb6b86c78a7e092d523c7">msg_type_</a></td></tr>
<tr class="memdesc:a31f74fa3789cb6b86c78a7e092d523c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The parsed JSON message type. <br /></td></tr>
<tr class="separator:a31f74fa3789cb6b86c78a7e092d523c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89ad12121fd0f3d299f8a363c62e11fa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89ad12121fd0f3d299f8a363c62e11fa"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#a89ad12121fd0f3d299f8a363c62e11fa">msg_id_</a></td></tr>
<tr class="memdesc:a89ad12121fd0f3d299f8a363c62e11fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">The parsed JSON message identifier. <br /></td></tr>
<tr class="separator:a89ad12121fd0f3d299f8a363c62e11fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d8aa3325e78d193d5aa9b7461c7068a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7d8aa3325e78d193d5aa9b7461c7068a"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#a7d8aa3325e78d193d5aa9b7461c7068a">msg_target_</a></td></tr>
<tr class="memdesc:a7d8aa3325e78d193d5aa9b7461c7068a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The parsed JSON message target. <br /></td></tr>
<tr class="separator:a7d8aa3325e78d193d5aa9b7461c7068a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef48a27d798339c1f133122b7d216ec0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aef48a27d798339c1f133122b7d216ec0"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#aef48a27d798339c1f133122b7d216ec0">msg_interval_</a></td></tr>
<tr class="memdesc:aef48a27d798339c1f133122b7d216ec0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The parsed JSON message interval, in seconds. <br /></td></tr>
<tr class="separator:aef48a27d798339c1f133122b7d216ec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ac9ec8b1da97bbfb3bfb6f9c019e1d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a44ac9ec8b1da97bbfb3bfb6f9c019e1d"></a>
uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#a44ac9ec8b1da97bbfb3bfb6f9c019e1d">snd_buf_</a></td></tr>
<tr class="memdesc:a44ac9ec8b1da97bbfb3bfb6f9c019e1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The send message buffer. <br /></td></tr>
<tr class="separator:a44ac9ec8b1da97bbfb3bfb6f9c019e1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9684fedea4c26873ecd0e615aa22ee5"><td class="memItemLeft" align="right" valign="top">rapidjson::StringBuffer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#aa9684fedea4c26873ecd0e615aa22ee5">send_str_buf_</a></td></tr>
<tr class="separator:aa9684fedea4c26873ecd0e615aa22ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab64a29b29da092072c223c5d07442d12"><td class="memItemLeft" align="right" valign="top">rapidjson::Writer&lt; rapidjson::StringBuffer &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#ab64a29b29da092072c223c5d07442d12">send_writer_</a></td></tr>
<tr class="separator:ab64a29b29da092072c223c5d07442d12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4fa091759aed4ed45ac306429d4e7dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#aa4fa091759aed4ed45ac306429d4e7dd">endpoint_ready_</a></td></tr>
<tr class="separator:aa4fa091759aed4ed45ac306429d4e7dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf3b65cdfccd88e99935c3b60e33c5bb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaf3b65cdfccd88e99935c3b60e33c5bb"></a>
std::map&lt; uint32_t, <a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#aaf3b65cdfccd88e99935c3b60e33c5bb">endpoints_</a></td></tr>
<tr class="memdesc:aaf3b65cdfccd88e99935c3b60e33c5bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">A map from the endpoint_id_ to endpoint connections. <br /></td></tr>
<tr class="separator:aaf3b65cdfccd88e99935c3b60e33c5bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a375aa4ba1ff5d06108fc8f38d22f7c30"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a375aa4ba1ff5d06108fc8f38d22f7c30"></a>
static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1RemoteControl.html#a375aa4ba1ff5d06108fc8f38d22f7c30">next_ep_id_</a> = 1</td></tr>
<tr class="memdesc:a375aa4ba1ff5d06108fc8f38d22f7c30"><td class="mdescLeft">&#160;</td><td class="mdescRight">The next endpoint identifier for assignment. <br /></td></tr>
<tr class="separator:a375aa4ba1ff5d06108fc8f38d22f7c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>All of the messages sent and received by this class are in JSON format. Individual messages are delimited by prepending a 4-byte unsigned integer (in network byte order) of the JSON message length (in bytes) before the JSON message itself. Because of this framing, a single TCP connection from a client to this server may be used for many different transactions over a long period of time.</p>
<p>The supported JSON messages are as follows:</p>
<table class="doxtable">
<tr>
<th>Client Message </th><th>Server Message(s)  </th></tr>
<tr>
<td>set </td><td>setreply </td></tr>
<tr>
<td>get </td><td>getreply </td></tr>
<tr>
<td>pushreq, pushstop </td><td>push, pusherror </td></tr>
<tr>
<td>(close socket) </td><td>close </td></tr>
</table>
<p>Most messages contains a "msgid" (message identifier) field. This is a large integer assigned by the originator of the "set", "get", or "pushreq" message and is used to pair reply messages with the original request message. It is important that the server send the correct "msgid" in each of the reply messages.</p>
<p>For the set actions, the client sends a "set" message to the server, and the server responds with a "setreply" message. The "msgid" field is used to pair messages.</p>
<p>For the get actions, the client sends a "get" message to the server, and the server responds with a "getreply" message. The "msgid" field is used to pair messages.</p>
<p>For the push actions, the client sends a "pushreq" (push request) message to the server, specifying what information it wants pushed to it periodically as well as the interval between updates. If the server encounters an error servicing the push request, then the server responds with a "pusherror" message and the push action is canceled. If the server can handle all of the push request, then it sends "push" messages containing the requested information to the client at the requested interval using the "msgid" field from the "pushreq" message. The "push" messages continue until the client either sends a "pushstop" message to the server or closes its TCP connection to the server. The "msgid" field is used to pair "push" messages to the original "pushreq" message.</p>
<p>For the close action, the server sends a "close" message to the client when it wants to terminate the connection. The client must then close its TCP connection to the server. This prevents the server's well-known TCP port number from becoming stuck in a half-close state. Note that the client should simply close its TCP connection to the server whenever it is done with the connection &ndash; no message exchanges are required in this case.</p>
<p>The JSON messages have the following formats:</p>
<pre class="fragment">/// {
///   "msg": "set",
///   "msgid": 1234,
///   "tgt": "pc:1",
///   "keyvals": { "MaxLineRateKbps": "1.234",
///                "OtherParam": "8",
///                ...
///              }
/// }
///
/// {
///   "msg": "setreply",
///   "msgid": 1234,
///   "success": true
/// }
///
/// {
///   "msg": "setreply",
///   "msgid": 1234,
///   "success": false,
///   "errmsg": "Invalid value."
/// }
///
/// {
///   "msg": "get",
///   "msgid": 234,
///   "tgt": "udp_proxy",
///   "keys": [ "stats", "uptime", ... ]
/// }
///
/// {
///   "msg": "getreply",
///   "msgid": 234,
///   "success": true,
///   "keyvals": { "stats": &lt;val&gt;,
///                "uptime": &lt;val&gt;,
///                ...
///              }
/// }
///
/// {
///   "msg": "getreply",
///   "msgid": 234,
///   "success": false,
///   "errmsg": "Unknown key."
/// }
///
/// {
///   "msg": "pushreq",
///   "msgid": 34,
///   "tgt": "tcp_proxy",
///   "intv": 1.5,
///   "keys": [ "stats", "flow_stats", "uptime", ... ]
///   "options" : { "flow_stats" : &lt;val&gt; }
/// }
/// "options" is optional, but some specific key values may require an
/// associated value (Ex. "flow_stats").
///
/// {
///   "msg": "push",
///   "msgid": 34,
///   "keyvals": { "stats": &lt;val&gt;,
///                "flow_stats": &lt;val&gt;,
///                "uptime": &lt;val&gt;,
///                ...
///              }
/// }
///
/// {
///   "msg": "pusherror",
///   "msgid": 34,
///   "errmsg": "Unknown key."
/// }
///
/// {
///   "msg": "pushstop",
///   "msgid": 34,
///   "tgt": "tcp_proxy",
///   "to_stop": [234, ...]
/// }
//  "to_stop" is optional. If omitted or an empty list, the receiver should
/// stop all push requests. If included, it is a list of message ids that
/// correspond to the push requests to be stopped.
///
/// {
///   "msg": "close"
/// }
/// </pre> 
<p>Definition at line <a class="el" href="remote__control_8h_source.html#l00307">307</a> of file <a class="el" href="remote__control_8h_source.html">remote_control.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4632881dba137a72ac7b58afb503d6f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RemoteControl::AddFileDescriptors </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>max_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set &amp;&#160;</td>
          <td class="paramname"><em>read_fds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add file descriptors to a read mask. </p>
<p>This method is to be used in the main processing loop, before the common select(2) call is made. The read mask is for use in the select(2) call. This method does not clear the read mask &ndash; any existing file descriptors in the mask are left unchanged.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_fd</td><td>A reference to the maximum file descriptor value to be updated. </td></tr>
    <tr><td class="paramname">read_fds</td><td>A reference to the read mask to be updated. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="remote__control_8cc_source.html#l00304">304</a> of file <a class="el" href="remote__control_8cc_source.html">remote_control.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a23c3361a1010a8b35bfbf5fa244c25d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a>* iron::RemoteControl::endpoint_ready </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a pointer to an <a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a> object that has a message ready to be parsed and processed. </p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the endpoint that has a message ready for processing. </dd></dl>

<p>Definition at line <a class="el" href="remote__control_8h_source.html#l00408">408</a> of file <a class="el" href="remote__control_8h_source.html">remote_control.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9c7b502b6f46401fea18caa182159aa1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a> * RemoteControl::GetEpInfo </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>client_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the <a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a> for the specified client identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client_id</td><td>The client identifier.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the <a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a> object on success, or NULL otherwise. </dd></dl>

<p>Definition at line <a class="el" href="remote__control_8cc_source.html#l00594">594</a> of file <a class="el" href="remote__control_8cc_source.html">remote_control.cc</a>.</p>

</div>
</div>
<a class="anchor" id="acf7734db40008214ad57795903a46a4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RemoteControl::GetGetMessage </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const rapidjson::Value *&amp;&#160;</td>
          <td class="paramname"><em>key_array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the "get" request message contents. </p>
<p>This method should only be called after <a class="el" href="classiron_1_1RemoteControl.html#aca33a2f83454267daca317c62fb404d4" title="Get the received remote control request message type. ">msg_type()</a> returns RC_GET. The caller should use the returned key_array pointer to access the keys. This method makes sure that the JSON message "keys" is an array of strings, so this check does not need to be performed again.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>A reference where the target will be placed. </td></tr>
    <tr><td class="paramname">key_array</td><td>A reference to a pointer that will be set to the get message's array of keys. Use the RapidJSON Value methods for accessing the keys.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, or false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="remote__control_8cc_source.html#l00412">412</a> of file <a class="el" href="remote__control_8cc_source.html">remote_control.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ae41f00e4344d7894314ee21366f4ac5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RemoteControl::GetMsgBuffer </td>
          <td>(</td>
          <td class="paramtype">rapidjson::StringBuffer &amp;&#160;</td>
          <td class="paramname"><em>str_buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serialize the document object into a string buffer that is ready for transmission. </p>
<p>This method can be used to get a JSON message out of one remote control object, in a form that can be sent through another remote control object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str_buffer</td><td>A reference to a string object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="remote__control_8cc_source.html#l00325">325</a> of file <a class="el" href="remote__control_8cc_source.html">remote_control.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aee678f2f843173328a210f628d225064"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RemoteControl::GetPushMessage </td>
          <td>(</td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>client_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const rapidjson::Value *&amp;&#160;</td>
          <td class="paramname"><em>key_val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the "push" message contents. </p>
<p>This method should only be called after <a class="el" href="classiron_1_1RemoteControl.html#aca33a2f83454267daca317c62fb404d4" title="Get the received remote control request message type. ">msg_type()</a> returns RC_PUSH. The caller should use the returned key_array pointer to access the keys. This method makes sure that the JSON message "key_vals" is an array of objects, so this check does not need to be performed again.</p>
<p>The value of each out parameter is only valid when the message is successfully retrieved.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client_id</td><td>The client identifier. </td></tr>
    <tr><td class="paramname">key_val</td><td>A reference to a pointer that will be set to the get message's array of key_vals. Use the RapidJSON Value methods for accessing the keys.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, or false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="remote__control_8cc_source.html#l00459">459</a> of file <a class="el" href="remote__control_8cc_source.html">remote_control.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aa2c90ef26235d700c7a712d3dc0a406b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool RemoteControl::InSet </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set &amp;&#160;</td>
          <td class="paramname"><em>fds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if a given file descriptor is in the set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>File descriptor for the socket to check. </td></tr>
    <tr><td class="paramname">fds</td><td>File descriptor set to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the given socket is in the set of file descriptors, false otherwise. False will always be returned if socket file descriptor is less than 0. </dd></dl>

<p>Definition at line <a class="el" href="remote__control_8cc_source.html#l00494">494</a> of file <a class="el" href="remote__control_8cc_source.html">remote_control.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ab2cb6666d6f4adba69002d16aa8bb91f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t iron::RemoteControl::msg_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the message ID of the most recently parsed message. </p>
<dl class="section return"><dt>Returns</dt><dd>The message id, as an integer of the most recently parsed message from the remote control object. </dd></dl>

<p>Definition at line <a class="el" href="remote__control_8h_source.html#l00388">388</a> of file <a class="el" href="remote__control_8h_source.html">remote_control.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6dae457310db8f6139a0dca2e582a2ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">inline ::std::string iron::RemoteControl::msg_target </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the target of the most recently parsed message. </p>
<dl class="section return"><dt>Returns</dt><dd>The target, as a std::string, of the most recently processed message from the remote control object. </dd></dl>

<p>Definition at line <a class="el" href="remote__control_8h_source.html#l00383">383</a> of file <a class="el" href="remote__control_8h_source.html">remote_control.h</a>.</p>

</div>
</div>
<a class="anchor" id="aca33a2f83454267daca317c62fb404d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">RmtCntlMsgType iron::RemoteControl::msg_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the received remote control request message type. </p>
<p>This method should only be called after a call to the ServiceFileDescriptors() method returns true.</p>
<dl class="section return"><dt>Returns</dt><dd>The received remote control request message type. </dd></dl>

<p>Definition at line <a class="el" href="remote__control_8h_source.html#l00402">402</a> of file <a class="el" href="remote__control_8h_source.html">remote_control.h</a>.</p>

</div>
</div>
<a class="anchor" id="af9dd503a66d5c091b09ee40e6eeeb140"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool iron::RemoteControl::ParseJsonMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a> *&#160;</td>
          <td class="paramname"><em>ep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parse a received message into a JSON formatted document document, and extract common message attributes into the remote control object. </p>
<p>The remote control client and server expect different types of messages, and each implements this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep</td><td>A pointer to the endpoint object with the received message. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the message was successfully parsed. </dd></dl>

<p>Implemented in <a class="el" href="classiron_1_1RemoteControlServer.html#aa63d97a74d0806adc7258873828de764">iron::RemoteControlServer</a>, and <a class="el" href="classiron_1_1RemoteControlClient.html#aa4f22169b5a1ad9d42578856b1c231f2">iron::RemoteControlClient</a>.</p>

</div>
</div>
<a class="anchor" id="a43ba3ee6be1ab047864feb6e08375d61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iron::RemoteControl::SendMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a> *&#160;</td>
          <td class="paramname"><em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rapidjson::StringBuffer &amp;&#160;</td>
          <td class="paramname"><em>str_buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a JSON-formatted message to an endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep</td><td>A pointer to the <a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a> object for the remote endpoint. </td></tr>
    <tr><td class="paramname">str_buf</td><td>A reference to the string buffer wrapped by the JSON writer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the message was successfully sent. </dd></dl>

<p>Definition at line <a class="el" href="remote__control_8cc_source.html#l00332">332</a> of file <a class="el" href="remote__control_8cc_source.html">remote_control.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aeb61a46e0d25743bb6322cbf4e896ea2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iron::RemoteControl::SendMessage </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ep_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rapidjson::StringBuffer &amp;&#160;</td>
          <td class="paramname"><em>str_buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a JSON-formatted message to an endpoint, specifed by endpoint ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ep_id</td><td>The ID of the destination endpoint. </td></tr>
    <tr><td class="paramname">str_buf</td><td>A reference to the string buffer wrapped by the JSON writer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the message was successfully sent. </dd></dl>

<p>Definition at line <a class="el" href="remote__control_8cc_source.html#l00377">377</a> of file <a class="el" href="remote__control_8cc_source.html">remote_control.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a2a34a115bf9f6073882bfdde9ee5562d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool RemoteControl::ServiceEndpoints </td>
          <td>(</td>
          <td class="paramtype">fd_set &amp;&#160;</td>
          <td class="paramname"><em>read_fds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Service the internal file descriptors. </p>
<p>This method is to be used in the main processing loop, just after the common select(2) call returns a positive value. The read mask passed into this method must have been updated by the select(2) call. If the return value from this method is true, then there is a remote control request message that had been received, and the <a class="el" href="classiron_1_1RemoteControl.html#aca33a2f83454267daca317c62fb404d4" title="Get the received remote control request message type. ">msg_type()</a>, GetXxxMessage(), and SendXxxMessage() methods must be called to process the received request message and send back a message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">read_fds</td><td>A reference to the read mask from select(2).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if there is a remote control message waiting to be processed, or false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="remote__control_8cc_source.html#l00500">500</a> of file <a class="el" href="remote__control_8cc_source.html">remote_control.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ad3581cdb3a09de96c9955a6582a59c3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void iron::RemoteControl::set_msg_id </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>msg_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the message ID of the most recently parsed message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg_id</td><td>The message id to set in the most recently parsed message. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="remote__control_8h_source.html#l00394">394</a> of file <a class="el" href="remote__control_8h_source.html">remote_control.h</a>.</p>

</div>
</div>
<a class="anchor" id="a105a963f9777ccbe968117be7992d119"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RemoteControl::SetJsonMsgId </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>msg_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the message id inside the json-formatted document. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg_id</td><td>The message id to be placed inside the json doc object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="remote__control_8cc_source.html#l00401">401</a> of file <a class="el" href="remote__control_8cc_source.html">remote_control.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aa4fa091759aed4ed45ac306429d4e7dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classiron_1_1EndpointInfo.html">EndpointInfo</a>* iron::RemoteControl::endpoint_ready_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The Endpoint with a message ready to be processed. Set to NULL if no client has a message ready. </p>

<p>Definition at line <a class="el" href="remote__control_8h_source.html#l00513">513</a> of file <a class="el" href="remote__control_8h_source.html">remote_control.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa9684fedea4c26873ecd0e615aa22ee5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rapidjson::StringBuffer* iron::RemoteControl::send_str_buf_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The string buffer for sending a message using two separate method calls. This is dynamically allocated and freed. The memory is owned and freed by the <a class="el" href="classiron_1_1RemoteControl.html">RemoteControl</a> object. </p>

<p>Definition at line <a class="el" href="remote__control_8h_source.html#l00501">501</a> of file <a class="el" href="remote__control_8h_source.html">remote_control.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab64a29b29da092072c223c5d07442d12"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rapidjson::Writer&lt;rapidjson::StringBuffer&gt;* iron::RemoteControl::send_writer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The json writer for sending a message using two separate method calls. This is dynamically allocated and freed. The memory is owned and freed by the <a class="el" href="classiron_1_1RemoteControl.html">RemoteControl</a> object. </p>

<p>Definition at line <a class="el" href="remote__control_8h_source.html#l00506">506</a> of file <a class="el" href="remote__control_8h_source.html">remote_control.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/szabele/github/IRON/iron/common/include/<a class="el" href="remote__control_8h_source.html">remote_control.h</a></li>
<li>/home/szabele/github/IRON/iron/common/src/<a class="el" href="remote__control_8cc_source.html">remote_control.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceiron.html">iron</a></li><li class="navelem"><a class="el" href="classiron_1_1RemoteControl.html">RemoteControl</a></li>
    <li class="footer">Generated on Fri Feb 26 2021 11:31:59 for IRON by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
