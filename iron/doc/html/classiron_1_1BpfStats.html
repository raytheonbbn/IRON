<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>IRON: iron::BpfStats Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IRON
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classiron_1_1BpfStats.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classiron_1_1BpfStats-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">iron::BpfStats Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classiron_1_1BpfStats.html" title="BpfStats class to extend and implement the stats class specifically for the needs of the BPF...">BpfStats</a> class to extend and implement the stats class specifically for the needs of the BPF. The base class <a class="el" href="classiron_1_1Stats.html">Stats</a> retains a modicum of methods and members (not all pure virtual) common to all stats classes, for instance the method to start and stop dumping, timer interval accessors, etc. This class was built around a singleton such that all elements of the bpf (backpressure_fwder, Sonds, CATs, etc.) may accumulate statistics and metrics into the same <a class="el" href="classiron_1_1BpfStats.html" title="BpfStats class to extend and implement the stats class specifically for the needs of the BPF...">BpfStats</a> object. The <a class="el" href="classiron_1_1BpfStats.html" title="BpfStats class to extend and implement the stats class specifically for the needs of the BPF...">BpfStats</a> class provides methods to accumulate stats into class members. It also starts a timer, which upon expiring, dumps these stats to the logs (as of creation of this class).  
 <a href="classiron_1_1BpfStats.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="bpf__stats_8h_source.html">bpf_stats.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for iron::BpfStats:</div>
<div class="dyncontent">
<div class="center"><img src="classiron_1_1BpfStats__inherit__graph.png" border="0" usemap="#iron_1_1BpfStats_inherit__map" alt="Inheritance graph"/></div>
<map name="iron_1_1BpfStats_inherit__map" id="iron_1_1BpfStats_inherit__map">
<area shape="rect" id="node2" href="classiron_1_1Stats.html" title="iron::Stats" alt="" coords="15,5,98,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for iron::BpfStats:</div>
<div class="dyncontent">
<div class="center"><img src="classiron_1_1BpfStats__coll__graph.png" border="0" usemap="#iron_1_1BpfStats_coll__map" alt="Collaboration graph"/></div>
<map name="iron_1_1BpfStats_coll__map" id="iron_1_1BpfStats_coll__map">
<area shape="rect" id="node2" href="classiron_1_1Stats.html" title="iron::Stats" alt="" coords="15,95,98,121"/>
<area shape="rect" id="node3" href="classiron_1_1Time.html" title="iron::Time" alt="" coords="17,5,97,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiron_1_1BpfStats_1_1PcCapEst.html">PcCapEst</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a461a30af155157e3fc1b433d7a35962e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#a461a30af155157e3fc1b433d7a35962e">BpfStats</a> (<a class="el" href="classiron_1_1BinMap.html">BinMap</a> &amp;bin_map)</td></tr>
<tr class="memdesc:a461a30af155157e3fc1b433d7a35962e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a461a30af155157e3fc1b433d7a35962e">More...</a><br /></td></tr>
<tr class="separator:a461a30af155157e3fc1b433d7a35962e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a70864408e82edc4f3f4eee5e1c39b3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a70864408e82edc4f3f4eee5e1c39b3"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#a2a70864408e82edc4f3f4eee5e1c39b3">~BpfStats</a> ()</td></tr>
<tr class="memdesc:a2a70864408e82edc4f3f4eee5e1c39b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a2a70864408e82edc4f3f4eee5e1c39b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac66e3eebda90d353d3f29f3a3d938696"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#ac66e3eebda90d353d3f29f3a3d938696">Initialize</a> ()</td></tr>
<tr class="memdesc:ac66e3eebda90d353d3f29f3a3d938696"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the object.  <a href="#ac66e3eebda90d353d3f29f3a3d938696">More...</a><br /></td></tr>
<tr class="separator:ac66e3eebda90d353d3f29f3a3d938696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc7b912311e5c61026aead776f339c1e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc7b912311e5c61026aead776f339c1e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#afc7b912311e5c61026aead776f339c1e">Purge</a> ()</td></tr>
<tr class="memdesc:afc7b912311e5c61026aead776f339c1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purge the stats. Currently only called by destructors. <br /></td></tr>
<tr class="separator:afc7b912311e5c61026aead776f339c1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b03353534ff34c44546aa8ad78db810"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#a7b03353534ff34c44546aa8ad78db810">WriteStats</a> (rapidjson::Writer&lt; rapidjson::StringBuffer &gt; *writer=NULL)</td></tr>
<tr class="memdesc:a7b03353534ff34c44546aa8ad78db810"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method that dumps the accumulated stats into the log file or rapidJSON writer.  <a href="#a7b03353534ff34c44546aa8ad78db810">More...</a><br /></td></tr>
<tr class="separator:a7b03353534ff34c44546aa8ad78db810"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd5164b4d9d4357651e779f1d5d9a6b0"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#acd5164b4d9d4357651e779f1d5d9a6b0">IncrementNumDataBytesSentToBinOnPathCtrl</a> (<a class="el" href="classiron_1_1PathController.html">PathController</a> *pc, <a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> bin_idx, uint64_t num_bytes, <a class="el" href="namespaceiron.html#aacbb07180f64325df5439a0fcc7dae80">DstVec</a> dst_vec=0)</td></tr>
<tr class="memdesc:acd5164b4d9d4357651e779f1d5d9a6b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment the number of bytes of data sent on a path controller.  <a href="#acd5164b4d9d4357651e779f1d5d9a6b0">More...</a><br /></td></tr>
<tr class="separator:acd5164b4d9d4357651e779f1d5d9a6b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aead2f77b76f23535a385be1ef5c7876d"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#aead2f77b76f23535a385be1ef5c7876d">IncrementNumDataBytesRcvdForBinOnPathCtrl</a> (<a class="el" href="classiron_1_1PathController.html">PathController</a> *pc, <a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> bin_idx, uint64_t num_bytes, <a class="el" href="namespaceiron.html#aacbb07180f64325df5439a0fcc7dae80">DstVec</a> dst_vec=0)</td></tr>
<tr class="memdesc:aead2f77b76f23535a385be1ef5c7876d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment the number of bytes of data received on a path controller. This number includes only packets for which we could find a bin.  <a href="#aead2f77b76f23535a385be1ef5c7876d">More...</a><br /></td></tr>
<tr class="separator:aead2f77b76f23535a385be1ef5c7876d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f722d0f196135cb197f474ce3346593"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#a4f722d0f196135cb197f474ce3346593">IncrementNumDataBytesSentToBinOnProxy</a> (uint32_t proxy, <a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> bin_idx, uint64_t num_bytes, <a class="el" href="namespaceiron.html#aacbb07180f64325df5439a0fcc7dae80">DstVec</a> dst_vec=0)</td></tr>
<tr class="memdesc:a4f722d0f196135cb197f474ce3346593"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment the number of bytes of data sent to a proxy. This number includes only packets for which we could find a bin.  <a href="#a4f722d0f196135cb197f474ce3346593">More...</a><br /></td></tr>
<tr class="separator:a4f722d0f196135cb197f474ce3346593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dc96abb133f2e1685612df2c923bd56"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#a5dc96abb133f2e1685612df2c923bd56">IncrementNumDataBytesRcvdForBinOnProxy</a> (uint32_t proxy, <a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> bin_idx, uint64_t num_bytes, <a class="el" href="namespaceiron.html#aacbb07180f64325df5439a0fcc7dae80">DstVec</a> dst_vec=0)</td></tr>
<tr class="memdesc:a5dc96abb133f2e1685612df2c923bd56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment the number of bytes of data received from a proxy. This number includes only packets for which we could find a bin.  <a href="#a5dc96abb133f2e1685612df2c923bd56">More...</a><br /></td></tr>
<tr class="separator:a5dc96abb133f2e1685612df2c923bd56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67de5e242dc013d4dc4c2f86afe1c4d9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#a67de5e242dc013d4dc4c2f86afe1c4d9">ReportQueueDepthsForBins</a> (<a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> bin_idx, <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> *qd)</td></tr>
<tr class="memdesc:a67de5e242dc013d4dc4c2f86afe1c4d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Report the queue depths for all bins seen by the node. The way in which the queue depths are reported is via a pointer to a queue depth object, which conveniently carries this info. Note that queue depths are averaged over the number of times this info is reported, which is with every QLAM to the proxy.  <a href="#a67de5e242dc013d4dc4c2f86afe1c4d9">More...</a><br /></td></tr>
<tr class="separator:a67de5e242dc013d4dc4c2f86afe1c4d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82d61c009948814081d8c0889b75cfdd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a82d61c009948814081d8c0889b75cfdd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#a82d61c009948814081d8c0889b75cfdd">IncrementNumberOfQueueDepthUpdates</a> ()</td></tr>
<tr class="memdesc:a82d61c009948814081d8c0889b75cfdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment the num. of times avq_queue_depths have been updated. <br /></td></tr>
<tr class="separator:a82d61c009948814081d8c0889b75cfdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20329c88342cecfacc7ee0fb3e09bae9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#a20329c88342cecfacc7ee0fb3e09bae9">ReportCapacityUpdateForPC</a> (<a class="el" href="classiron_1_1PathController.html">PathController</a> *pc, uint64_t chan_cap_est_bps, uint64_t trans_cap_est_bps)</td></tr>
<tr class="memdesc:a20329c88342cecfacc7ee0fb3e09bae9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Report the capacity estimate for a given path controller.  <a href="#a20329c88342cecfacc7ee0fb3e09bae9">More...</a><br /></td></tr>
<tr class="separator:a20329c88342cecfacc7ee0fb3e09bae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8d6eb8cd0c2931f7a300530a924805d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#aa8d6eb8cd0c2931f7a300530a924805d">ReportLatencyUpdate</a> (<a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> bin_idx, std::string next_hop, uint32_t latency)</td></tr>
<tr class="memdesc:aa8d6eb8cd0c2931f7a300530a924805d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Report the latency estimate for a given destination bin Id through each neighbor (and therefore through each pathcontroller).  <a href="#aa8d6eb8cd0c2931f7a300530a924805d">More...</a><br /></td></tr>
<tr class="separator:aa8d6eb8cd0c2931f7a300530a924805d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cee6ef5f246e604dff94dc8f0474971"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#a6cee6ef5f246e604dff94dc8f0474971">ToString</a> () const </td></tr>
<tr class="memdesc:a6cee6ef5f246e604dff94dc8f0474971"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return long string recapping the stored data.  <a href="#a6cee6ef5f246e604dff94dc8f0474971">More...</a><br /></td></tr>
<tr class="separator:a6cee6ef5f246e604dff94dc8f0474971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa31a155c507a5de02286194de9e7916a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#aa31a155c507a5de02286194de9e7916a">set_test_override</a> (bool over_ride)</td></tr>
<tr class="memdesc:aa31a155c507a5de02286194de9e7916a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set test override to allow testing.  <a href="#aa31a155c507a5de02286194de9e7916a">More...</a><br /></td></tr>
<tr class="separator:aa31a155c507a5de02286194de9e7916a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f75f86612c028af25d92adf1aa60349"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#a2f75f86612c028af25d92adf1aa60349">set_push_active</a> (bool push_active)</td></tr>
<tr class="memdesc:a2f75f86612c028af25d92adf1aa60349"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set test the flag to indicate if stats is being pushed.  <a href="#a2f75f86612c028af25d92adf1aa60349">More...</a><br /></td></tr>
<tr class="separator:a2f75f86612c028af25d92adf1aa60349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd1fbf9e8fbaa037d23f15927ba637e1"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#acd1fbf9e8fbaa037d23f15927ba637e1">CreateRemoteNodeAddrForPC</a> (const <a class="el" href="classiron_1_1PathController.html">PathController</a> *pc)</td></tr>
<tr class="memdesc:acd1fbf9e8fbaa037d23f15927ba637e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synthesize a remote node address for a path controller.  <a href="#acd1fbf9e8fbaa037d23f15927ba637e1">More...</a><br /></td></tr>
<tr class="separator:acd1fbf9e8fbaa037d23f15927ba637e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classiron_1_1Stats"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classiron_1_1Stats')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classiron_1_1Stats.html">iron::Stats</a></td></tr>
<tr class="memitem:a715d1c010a0e0beb452dc4c3fe58d01f inherit pub_methods_classiron_1_1Stats"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1Stats.html#a715d1c010a0e0beb452dc4c3fe58d01f">Stats</a> ()</td></tr>
<tr class="separator:a715d1c010a0e0beb452dc4c3fe58d01f inherit pub_methods_classiron_1_1Stats"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8776069260675c0826fb32ef4a14b05b inherit pub_methods_classiron_1_1Stats"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1Stats.html#a8776069260675c0826fb32ef4a14b05b">~Stats</a> ()</td></tr>
<tr class="separator:a8776069260675c0826fb32ef4a14b05b inherit pub_methods_classiron_1_1Stats"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf97fe2fd0614dd60b57a44c9ff7af1e inherit pub_methods_classiron_1_1Stats"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adf97fe2fd0614dd60b57a44c9ff7af1e"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1Stats.html#adf97fe2fd0614dd60b57a44c9ff7af1e">StartDump</a> ()</td></tr>
<tr class="memdesc:adf97fe2fd0614dd60b57a44c9ff7af1e inherit pub_methods_classiron_1_1Stats"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method that orders dumping the stats. <br /></td></tr>
<tr class="separator:adf97fe2fd0614dd60b57a44c9ff7af1e inherit pub_methods_classiron_1_1Stats"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8ea718e66886ab814de35d0478e13f3 inherit pub_methods_classiron_1_1Stats"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1Stats.html#af8ea718e66886ab814de35d0478e13f3">StopDump</a> ()</td></tr>
<tr class="memdesc:af8ea718e66886ab814de35d0478e13f3 inherit pub_methods_classiron_1_1Stats"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method that order stopping the dumps. This does not stop the averaging / dump timer, but merely the writing to the log file. That way, averages remain on constant bounderies.  <a href="#af8ea718e66886ab814de35d0478e13f3">More...</a><br /></td></tr>
<tr class="separator:af8ea718e66886ab814de35d0478e13f3 inherit pub_methods_classiron_1_1Stats"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a8e8846adb2066a4b04d60ac4df5e2ad2"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, std::map&lt; uint32_t, <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#a8e8846adb2066a4b04d60ac4df5e2ad2">pc_data_tx_queue_depths_</a></td></tr>
<tr class="separator:a8e8846adb2066a4b04d60ac4df5e2ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7554789dd7fa6dd2a30d1fa812335d0a"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, std::map&lt; uint32_t, <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#a7554789dd7fa6dd2a30d1fa812335d0a">pc_data_rx_queue_depths_</a></td></tr>
<tr class="separator:a7554789dd7fa6dd2a30d1fa812335d0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf541ed7ee71c464079489eaddd62cc"><td class="memItemLeft" align="right" valign="top">std::map&lt; uint32_t, std::map&lt; uint32_t, <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#adaf541ed7ee71c464079489eaddd62cc">proxy_data_tx_queue_depths_</a></td></tr>
<tr class="separator:adaf541ed7ee71c464079489eaddd62cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc5bb32b29841774d6b320275fc1cbac"><td class="memItemLeft" align="right" valign="top">std::map&lt; uint32_t, std::map&lt; uint32_t, <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#afc5bb32b29841774d6b320275fc1cbac">proxy_data_rx_queue_depths_</a></td></tr>
<tr class="separator:afc5bb32b29841774d6b320275fc1cbac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b0e5ca2714e004ca3c147d6d1a8c55d"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>, <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#a1b0e5ca2714e004ca3c147d6d1a8c55d">avg_queue_depths_</a></td></tr>
<tr class="separator:a1b0e5ca2714e004ca3c147d6d1a8c55d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad6035fc27754da041c91e4a076e72f6"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <a class="el" href="structiron_1_1BpfStats_1_1PcCapEst.html">PcCapEst</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1BpfStats.html#aad6035fc27754da041c91e4a076e72f6">pc_capacity_estimate_</a></td></tr>
<tr class="separator:aad6035fc27754da041c91e4a076e72f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classiron_1_1Stats"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classiron_1_1Stats')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classiron_1_1Stats.html">iron::Stats</a></td></tr>
<tr class="memitem:ac608e020d8a026d43517efbaad26530f inherit pro_attribs_classiron_1_1Stats"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1Stats.html#ac608e020d8a026d43517efbaad26530f">dump_ok_</a></td></tr>
<tr class="separator:ac608e020d8a026d43517efbaad26530f inherit pro_attribs_classiron_1_1Stats"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f7faa17a610325956a7eb0b0ad29429 inherit pro_attribs_classiron_1_1Stats"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classiron_1_1Time.html">iron::Time</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1Stats.html#a6f7faa17a610325956a7eb0b0ad29429">last_dump_</a></td></tr>
<tr class="separator:a6f7faa17a610325956a7eb0b0ad29429 inherit pro_attribs_classiron_1_1Stats"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classiron_1_1BpfStats.html" title="BpfStats class to extend and implement the stats class specifically for the needs of the BPF...">BpfStats</a> class to extend and implement the stats class specifically for the needs of the BPF. The base class <a class="el" href="classiron_1_1Stats.html">Stats</a> retains a modicum of methods and members (not all pure virtual) common to all stats classes, for instance the method to start and stop dumping, timer interval accessors, etc. This class was built around a singleton such that all elements of the bpf (backpressure_fwder, Sonds, CATs, etc.) may accumulate statistics and metrics into the same <a class="el" href="classiron_1_1BpfStats.html" title="BpfStats class to extend and implement the stats class specifically for the needs of the BPF...">BpfStats</a> object. The <a class="el" href="classiron_1_1BpfStats.html" title="BpfStats class to extend and implement the stats class specifically for the needs of the BPF...">BpfStats</a> class provides methods to accumulate stats into class members. It also starts a timer, which upon expiring, dumps these stats to the logs (as of creation of this class). </p>
<p>Memory ownership: all memory pertinent to <a class="el" href="classiron_1_1BpfStats.html" title="BpfStats class to extend and implement the stats class specifically for the needs of the BPF...">BpfStats</a> is owned (and cleared) by this class. </p>

<p>Definition at line <a class="el" href="bpf__stats_8h_source.html#l00076">76</a> of file <a class="el" href="bpf__stats_8h_source.html">bpf_stats.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a461a30af155157e3fc1b433d7a35962e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BpfStats::BpfStats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiron_1_1BinMap.html">BinMap</a> &amp;&#160;</td>
          <td class="paramname"><em>bin_map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bin_map</td><td>Mapping of IRON bins. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="bpf__stats_8cc_source.html#l00081">81</a> of file <a class="el" href="bpf__stats_8cc_source.html">bpf_stats.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="acd1fbf9e8fbaa037d23f15927ba637e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string BpfStats::CreateRemoteNodeAddrForPC </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiron_1_1PathController.html">PathController</a> *&#160;</td>
          <td class="paramname"><em>pc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synthesize a remote node address for a path controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pc</td><td>The (uniquely-identifying) pointer to the path controller.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The synthesized IPv4 address as a string. </dd></dl>

<p>Definition at line <a class="el" href="bpf__stats_8cc_source.html#l01359">1359</a> of file <a class="el" href="bpf__stats_8cc_source.html">bpf_stats.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aead2f77b76f23535a385be1ef5c7876d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BpfStats::IncrementNumDataBytesRcvdForBinOnPathCtrl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiron_1_1PathController.html">PathController</a> *&#160;</td>
          <td class="paramname"><em>pc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>bin_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#aacbb07180f64325df5439a0fcc7dae80">DstVec</a>&#160;</td>
          <td class="paramname"><em>dst_vec</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increment the number of bytes of data received on a path controller. This number includes only packets for which we could find a bin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pc</td><td>The path controller to obtain remote iron node address with optional -label. </td></tr>
    <tr><td class="paramname">bin_idx</td><td>The bin index for which the bytes were recvd for this pc. </td></tr>
    <tr><td class="paramname">num_bytes</td><td>The number of bytes received for the bin_idx ID. </td></tr>
    <tr><td class="paramname">dst_vec</td><td>(Optional) The bit vector of bin IDs specifying multicast group membership for mcast bin_idxs</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if increment was successfull, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="bpf__stats_8cc_source.html#l01045">1045</a> of file <a class="el" href="bpf__stats_8cc_source.html">bpf_stats.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a5dc96abb133f2e1685612df2c923bd56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BpfStats::IncrementNumDataBytesRcvdForBinOnProxy </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>proxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>bin_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#aacbb07180f64325df5439a0fcc7dae80">DstVec</a>&#160;</td>
          <td class="paramname"><em>dst_vec</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increment the number of bytes of data received from a proxy. This number includes only packets for which we could find a bin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proxy</td><td>Protocol number of the proxy corresponding to the received bytes. </td></tr>
    <tr><td class="paramname">bin_idx</td><td>The bin index for which the bytes were received for this proxy. </td></tr>
    <tr><td class="paramname">num_bytes</td><td>The number of bytes received for the bin idx. </td></tr>
    <tr><td class="paramname">dst_vec</td><td>(Optional) The bit vector of bin IDs specifying multicast group membership for mcast bin_idxs</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if increment was successfull, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="bpf__stats_8cc_source.html#l01177">1177</a> of file <a class="el" href="bpf__stats_8cc_source.html">bpf_stats.cc</a>.</p>

</div>
</div>
<a class="anchor" id="acd5164b4d9d4357651e779f1d5d9a6b0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BpfStats::IncrementNumDataBytesSentToBinOnPathCtrl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiron_1_1PathController.html">PathController</a> *&#160;</td>
          <td class="paramname"><em>pc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>bin_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#aacbb07180f64325df5439a0fcc7dae80">DstVec</a>&#160;</td>
          <td class="paramname"><em>dst_vec</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increment the number of bytes of data sent on a path controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pc</td><td>The path controller to obtain remote iron node address with optional -label. </td></tr>
    <tr><td class="paramname">bin_idx</td><td>The bin index to which the bytes were sent for this pc. </td></tr>
    <tr><td class="paramname">num_bytes</td><td>The number of bytes of data sent to the bin ID. </td></tr>
    <tr><td class="paramname">dst_vec</td><td>(Optional) The bit vector of bin IDs specifying multicast group membership for mcast bin_idxs</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if increment was successfull, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="bpf__stats_8cc_source.html#l00975">975</a> of file <a class="el" href="bpf__stats_8cc_source.html">bpf_stats.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a4f722d0f196135cb197f474ce3346593"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BpfStats::IncrementNumDataBytesSentToBinOnProxy </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>proxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>bin_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#aacbb07180f64325df5439a0fcc7dae80">DstVec</a>&#160;</td>
          <td class="paramname"><em>dst_vec</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increment the number of bytes of data sent to a proxy. This number includes only packets for which we could find a bin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proxy</td><td>Protocol number of the proxy corresponding to the sent bytes. </td></tr>
    <tr><td class="paramname">bin_idx</td><td>The bin index for which the bytes were sent for proxy. </td></tr>
    <tr><td class="paramname">num_bytes</td><td>The number of bytes sent for the bin idx. </td></tr>
    <tr><td class="paramname">dst_vec</td><td>(Optional) The bit vector of bin IDs specifying multicast group membership for mcast bin_idxs</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if increment was successfull, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="bpf__stats_8cc_source.html#l01115">1115</a> of file <a class="el" href="bpf__stats_8cc_source.html">bpf_stats.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ac66e3eebda90d353d3f29f3a3d938696"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BpfStats::Initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the object. </p>
<dl class="section return"><dt>Returns</dt><dd>True if initialization was successful, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="bpf__stats_8cc_source.html#l00107">107</a> of file <a class="el" href="bpf__stats_8cc_source.html">bpf_stats.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a20329c88342cecfacc7ee0fb3e09bae9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BpfStats::ReportCapacityUpdateForPC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiron_1_1PathController.html">PathController</a> *&#160;</td>
          <td class="paramname"><em>pc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>chan_cap_est_bps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>trans_cap_est_bps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Report the capacity estimate for a given path controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pc</td><td>The (uniquely-identifying) pointer to the path controller. </td></tr>
    <tr><td class="paramname">chan_cap_est_bps</td><td>The channel capacity estimate in bits per second. </td></tr>
    <tr><td class="paramname">trans_cap_est_bps</td><td>The transport capacity estimate in bits per second. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="bpf__stats_8cc_source.html#l01340">1340</a> of file <a class="el" href="bpf__stats_8cc_source.html">bpf_stats.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aa8d6eb8cd0c2931f7a300530a924805d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void iron::BpfStats::ReportLatencyUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>bin_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>next_hop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>latency</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Report the latency estimate for a given destination bin Id through each neighbor (and therefore through each pathcontroller). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bin_idx</td><td>The bin index of the destination. </td></tr>
    <tr><td class="paramname">next_hop</td><td>The next hop on the path to the destination to which the latency estimate applies. </td></tr>
    <tr><td class="paramname">latency</td><td>The latency to the destination over the specified next hop, in microseconds. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="bpf__stats_8h_source.html#l00241">241</a> of file <a class="el" href="bpf__stats_8h_source.html">bpf_stats.h</a>.</p>

</div>
</div>
<a class="anchor" id="a67de5e242dc013d4dc4c2f86afe1c4d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BpfStats::ReportQueueDepthsForBins </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>bin_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> *&#160;</td>
          <td class="paramname"><em>qd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Report the queue depths for all bins seen by the node. The way in which the queue depths are reported is via a pointer to a queue depth object, which conveniently carries this info. Note that queue depths are averaged over the number of times this info is reported, which is with every QLAM to the proxy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bin_idx</td><td>The group index being updated (0 for unicast updates) </td></tr>
    <tr><td class="paramname">qd</td><td>The pointer to the queue depth object to be added to the stats. <a class="el" href="classiron_1_1BpfStats.html" title="BpfStats class to extend and implement the stats class specifically for the needs of the BPF...">BpfStats</a> does not take ownership of qd memory. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="bpf__stats_8cc_source.html#l01240">1240</a> of file <a class="el" href="bpf__stats_8cc_source.html">bpf_stats.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a2f75f86612c028af25d92adf1aa60349"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void iron::BpfStats::set_push_active </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>push_active</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set test the flag to indicate if stats is being pushed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">push_active</td><td>True if there is an active push request, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="bpf__stats_8h_source.html#l00264">264</a> of file <a class="el" href="bpf__stats_8h_source.html">bpf_stats.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa31a155c507a5de02286194de9e7916a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void iron::BpfStats::set_test_override </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>over_ride</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set test override to allow testing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">over_ride</td><td>True to set testing mode, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="bpf__stats_8h_source.html#l00257">257</a> of file <a class="el" href="bpf__stats_8h_source.html">bpf_stats.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6cee6ef5f246e604dff94dc8f0474971"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string BpfStats::ToString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return long string recapping the stored data. </p>
<dl class="section return"><dt>Returns</dt><dd>String of the data store recaps. </dd></dl>

<p>Implements <a class="el" href="classiron_1_1Stats.html#ae6edb29a4de81dc20ed2539511926b8f">iron::Stats</a>.</p>

<p>Definition at line <a class="el" href="bpf__stats_8cc_source.html#l00954">954</a> of file <a class="el" href="bpf__stats_8cc_source.html">bpf_stats.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a7b03353534ff34c44546aa8ad78db810"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BpfStats::WriteStats </td>
          <td>(</td>
          <td class="paramtype">rapidjson::Writer&lt; rapidjson::StringBuffer &gt; *&#160;</td>
          <td class="paramname"><em>writer</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method that dumps the accumulated stats into the log file or rapidJSON writer. </p>
<p>Memory ownership: BPF <a class="el" href="classiron_1_1Stats.html">Stats</a> does not own the memory for the writer nor does it free it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">writer</td><td>The rapidJSON writer object to use to fill up the stats. It may be NULL, which means that nothing will be copied in that (non-existent) JSON object. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classiron_1_1Stats.html#a7bac7a2059d638d066fda65c97343603">iron::Stats</a>.</p>

<p>Definition at line <a class="el" href="bpf__stats_8cc_source.html#l00221">221</a> of file <a class="el" href="bpf__stats_8cc_source.html">bpf_stats.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a1b0e5ca2714e004ca3c147d6d1a8c55d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>, <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a>*&gt; iron::BpfStats::avg_queue_depths_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The average per-bin queue depth in bytes that can be printed with a single call to DumpStats(). The average is obtained by dividing the cumulative queue depths reported at the time of QLAM generation by the number of times the queue depth was reported. If a queue depth was reported four times during a statistics collection interval, then the sum of the four reported queue depths are divided by four. </p>

<p>Definition at line <a class="el" href="bpf__stats_8h_source.html#l00313">313</a> of file <a class="el" href="bpf__stats_8h_source.html">bpf_stats.h</a>.</p>

</div>
</div>
<a class="anchor" id="aad6035fc27754da041c91e4a076e72f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, <a class="el" href="structiron_1_1BpfStats_1_1PcCapEst.html">PcCapEst</a>&gt; iron::BpfStats::pc_capacity_estimate_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The path controller capacity estimates in bps. </p>

<p>Definition at line <a class="el" href="bpf__stats_8h_source.html#l00332">332</a> of file <a class="el" href="bpf__stats_8h_source.html">bpf_stats.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7554789dd7fa6dd2a30d1fa812335d0a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, std::map&lt;uint32_t, <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a>*&gt; &gt; iron::BpfStats::pc_data_rx_queue_depths_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The number of bytes of data received for each bin on a particular path controller. </p>

<p>Definition at line <a class="el" href="bpf__stats_8h_source.html#l00289">289</a> of file <a class="el" href="bpf__stats_8h_source.html">bpf_stats.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8e8846adb2066a4b04d60ac4df5e2ad2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, std::map&lt;uint32_t, <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a>*&gt; &gt; iron::BpfStats::pc_data_tx_queue_depths_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The number of bytes of data sent for each bin on a particular path controller. </p>

<p>Definition at line <a class="el" href="bpf__stats_8h_source.html#l00282">282</a> of file <a class="el" href="bpf__stats_8h_source.html">bpf_stats.h</a>.</p>

</div>
</div>
<a class="anchor" id="afc5bb32b29841774d6b320275fc1cbac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;uint32_t, std::map&lt;uint32_t, <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a>*&gt; &gt; iron::BpfStats::proxy_data_rx_queue_depths_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The number of bytes of multicast data received for each bin on a particular proxy interface. </p>

<p>Definition at line <a class="el" href="bpf__stats_8h_source.html#l00303">303</a> of file <a class="el" href="bpf__stats_8h_source.html">bpf_stats.h</a>.</p>

</div>
</div>
<a class="anchor" id="adaf541ed7ee71c464079489eaddd62cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;uint32_t, std::map&lt;uint32_t, <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a>*&gt; &gt; iron::BpfStats::proxy_data_tx_queue_depths_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The number of bytes of multicast data sent for each bin on a particular proxy interface. </p>

<p>Definition at line <a class="el" href="bpf__stats_8h_source.html#l00296">296</a> of file <a class="el" href="bpf__stats_8h_source.html">bpf_stats.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/szabele/github/IRON/iron/bpf/src/<a class="el" href="bpf__stats_8h_source.html">bpf_stats.h</a></li>
<li>/home/szabele/github/IRON/iron/bpf/src/<a class="el" href="bpf__stats_8cc_source.html">bpf_stats.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceiron.html">iron</a></li><li class="navelem"><a class="el" href="classiron_1_1BpfStats.html">BpfStats</a></li>
    <li class="footer">Generated on Fri Feb 26 2021 11:31:59 for IRON by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
