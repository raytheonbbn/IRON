<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>IRON: sliq::RcvdPktManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IRON
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classsliq_1_1RcvdPktManager.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classsliq_1_1RcvdPktManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">sliq::RcvdPktManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="sliq__received__packet__manager_8h_source.html">sliq_received_packet_manager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ade072455c976a63f36e9a95952495d0c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsliq_1_1RcvdPktManager.html#ade072455c976a63f36e9a95952495d0c">RcvdPktManager</a> (<a class="el" href="classsliq_1_1Connection.html">Connection</a> &amp;conn, <a class="el" href="classiron_1_1PacketPool.html">iron::PacketPool</a> &amp;packet_pool, <a class="el" href="namespacesliq.html#a9122e87208b802ee4c4a25c9a786f2a5">EndptId</a> conn_id, <a class="el" href="namespacesliq.html#ac7905155b31a0c3a294a3cc6f269f4d7">StreamId</a> stream_id)</td></tr>
<tr class="separator:ade072455c976a63f36e9a95952495d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9d417b086c00bb7c9c09aa8231debc9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa9d417b086c00bb7c9c09aa8231debc9"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsliq_1_1RcvdPktManager.html#aa9d417b086c00bb7c9c09aa8231debc9">~RcvdPktManager</a> ()</td></tr>
<tr class="memdesc:aa9d417b086c00bb7c9c09aa8231debc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:aa9d417b086c00bb7c9c09aa8231debc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f83e52d2f41f61e0053f7aa7437be33"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsliq_1_1RcvdPktManager.html#a3f83e52d2f41f61e0053f7aa7437be33">Initialize</a> (const <a class="el" href="structsliq_1_1Reliability.html">Reliability</a> &amp;rel, <a class="el" href="namespacesliq.html#a2cea8bad5210dbff929ca47b3f7acb7b">DeliveryMode</a> del_mode, PktSeqNumber init_seq_num)</td></tr>
<tr class="memdesc:a3f83e52d2f41f61e0053f7aa7437be33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the received packet manager.  <a href="#a3f83e52d2f41f61e0053f7aa7437be33">More...</a><br /></td></tr>
<tr class="separator:a3f83e52d2f41f61e0053f7aa7437be33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8002657d0337bf70d1fa8607c90f516f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsliq_1_1RcvdPktManager.html#a8002657d0337bf70d1fa8607c90f516f">IsGoodDataPacket</a> (<a class="el" href="structsliq_1_1DataHeader.html">DataHeader</a> &amp;pkt)</td></tr>
<tr class="memdesc:a8002657d0337bf70d1fa8607c90f516f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that received data packet is good before processing it.  <a href="#a8002657d0337bf70d1fa8607c90f516f">More...</a><br /></td></tr>
<tr class="separator:a8002657d0337bf70d1fa8607c90f516f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a586c374f0327c3b17b79bd45d1863ed2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsliq_1_1RcvdPktManager.html#a586c374f0327c3b17b79bd45d1863ed2">AddPkt</a> (<a class="el" href="structsliq_1_1DataHeader.html">DataHeader</a> &amp;pkt, const <a class="el" href="classiron_1_1Time.html">iron::Time</a> &amp;rcv_time)</td></tr>
<tr class="memdesc:a586c374f0327c3b17b79bd45d1863ed2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a packet that has been received.  <a href="#a586c374f0327c3b17b79bd45d1863ed2">More...</a><br /></td></tr>
<tr class="separator:a586c374f0327c3b17b79bd45d1863ed2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d008558eaf70b28adf05eec8767ae0e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsliq_1_1RcvdPktManager.html#a7d008558eaf70b28adf05eec8767ae0e">GetNextAppPkt</a> (<a class="el" href="classiron_1_1Packet.html">iron::Packet</a> *&amp;pkt, size_t &amp;payload_offset, size_t &amp;payload_len, bool &amp;fin_flag)</td></tr>
<tr class="memdesc:a7d008558eaf70b28adf05eec8767ae0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next packet for the application.  <a href="#a7d008558eaf70b28adf05eec8767ae0e">More...</a><br /></td></tr>
<tr class="separator:a7d008558eaf70b28adf05eec8767ae0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3495599909c1c4987ed491731e3f6850"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsliq_1_1RcvdPktManager.html#a3495599909c1c4987ed491731e3f6850">MoveForward</a> (PktSeqNumber ne_seq_num)</td></tr>
<tr class="memdesc:a3495599909c1c4987ed491731e3f6850"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the receive window based on a received move forward packet.  <a href="#a3495599909c1c4987ed491731e3f6850">More...</a><br /></td></tr>
<tr class="separator:a3495599909c1c4987ed491731e3f6850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7b94ee4fce7a69e17c96b748f770ba5"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsliq_1_1RcvdPktManager.html#ab7b94ee4fce7a69e17c96b748f770ba5">PrepareNextAckHdr</a> ()</td></tr>
<tr class="memdesc:ab7b94ee4fce7a69e17c96b748f770ba5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare the information for the next ACK header.  <a href="#ab7b94ee4fce7a69e17c96b748f770ba5">More...</a><br /></td></tr>
<tr class="separator:ab7b94ee4fce7a69e17c96b748f770ba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc460dabca00de7347ffc809a04cfdf3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsliq_1_1RcvdPktManager.html#abc460dabca00de7347ffc809a04cfdf3">BuildNextAckHdr</a> (<a class="el" href="structsliq_1_1AckHeader.html">AckHeader</a> &amp;ack_hdr, const <a class="el" href="classiron_1_1Time.html">iron::Time</a> &amp;now)</td></tr>
<tr class="memdesc:abc460dabca00de7347ffc809a04cfdf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the next ACK header after preparing the information for it.  <a href="#abc460dabca00de7347ffc809a04cfdf3">More...</a><br /></td></tr>
<tr class="separator:abc460dabca00de7347ffc809a04cfdf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f6628e08e5e8eca766438a68a479e72"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsliq_1_1RcvdPktManager.html#a8f6628e08e5e8eca766438a68a479e72">IsDataMissing</a> () const </td></tr>
<tr class="memdesc:a8f6628e08e5e8eca766438a68a479e72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there are any missing data packets.  <a href="#a8f6628e08e5e8eca766438a68a479e72">More...</a><br /></td></tr>
<tr class="separator:a8f6628e08e5e8eca766438a68a479e72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aea9c97f49f981ad37db55569c75ad9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsliq_1_1RcvdPktManager.html#a8aea9c97f49f981ad37db55569c75ad9">IsAllDataAndFinConsumed</a> () const </td></tr>
<tr class="memdesc:a8aea9c97f49f981ad37db55569c75ad9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if all of the data packets, including the data packet with the FIN, have been consumed (delivered to the application).  <a href="#a8aea9c97f49f981ad37db55569c75ad9">More...</a><br /></td></tr>
<tr class="separator:a8aea9c97f49f981ad37db55569c75ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class which holds all received data packets for a <a class="el" href="classsliq_1_1Stream.html" title="Class implementing the SLIQ streams. ">Stream</a>. The data packets are added to the receive window when they are received, and are released to the application in accordance with the delivery mode that is specified at creation time. The receive window is slid forward when data packets have been delivered to the application or the sender has directed the receiver to skip over certain packets.</p>
<p>The receive window utilizes the following locators:</p>
<pre class="fragment">///     |&lt;------------- rcv_wnd_ --------------&gt;|
///
///     +---+---+---+---+---+---+---+---+---+---+
///     |   |   |   |   |   |   |   |   |   |   |
///     +---+---+---+---+---+---+---+---+---+---+
///       ^           ^                   ^
///       |           |                   |
///   rcv_min_     rcv_nxt_            rcv_max_
///
///   rcv_min_ - The lowest packet that is either waiting to be delivered to
///              the application or is still needed by FEC.  Marks the left
///              (lower) edge of the receive window.
///   rcv_nxt_ - The lowest missing packet.  Also called the "next expected"
///              packet.  May be as low as rcv_min_ or as high as the packet
///              just beyond rcv_max_.
///   rcv_max_ - The largest received packet.  Also called the "largest
///              observed" packet.  Determines the right (upper) edge of the
///              receive window.  May be as low as the packet before
///              rcv_min_.
///   rcv_wnd_ - The maximum size of the receive window in packets.
///              Determines the limit on the right (upper) edge of the
///              receive window given the current left (lower) edge.  Set to
///              kFlowCtrlWindowPkts.
///
/// Note that:
///   rcv_min_        &lt;=  rcv_nxt_  &lt;=  (rcv_max_ + 1)
///   (rcv_min_ - 1)  &lt;=  rcv_max_  &lt;=  (rcv_min_ + rcv_wnd_ - 1)
/// </pre> <pre class="fragment">When using semi-reliable FEC mode, the left edge of the receive window
may be determined by the lowest packet still needed by FEC in order to
regenerate missing packets.  Otherwise, the left edge of the receive
window is the lowest packet yet to be delivered to the application.  </pre> 
<p>Definition at line <a class="el" href="sliq__received__packet__manager_8h_source.html#l00094">94</a> of file <a class="el" href="sliq__received__packet__manager_8h_source.html">sliq_received_packet_manager.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ade072455c976a63f36e9a95952495d0c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sliq::RcvdPktManager::RcvdPktManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsliq_1_1Connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classiron_1_1PacketPool.html">iron::PacketPool</a> &amp;&#160;</td>
          <td class="paramname"><em>packet_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesliq.html#a9122e87208b802ee4c4a25c9a786f2a5">EndptId</a>&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesliq.html#ac7905155b31a0c3a294a3cc6f269f4d7">StreamId</a>&#160;</td>
          <td class="paramname"><em>stream_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>A reference to the SLIQ connection. </td></tr>
    <tr><td class="paramname">packet_pool</td><td>A reference to the PacketPool. </td></tr>
    <tr><td class="paramname">conn_id</td><td>The connection ID. </td></tr>
    <tr><td class="paramname">stream_id</td><td>The stream ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a586c374f0327c3b17b79bd45d1863ed2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RcvdPktManager::AddPkt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsliq_1_1DataHeader.html">DataHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiron_1_1Time.html">iron::Time</a> &amp;&#160;</td>
          <td class="paramname"><em>rcv_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a packet that has been received. </p>
<p>The received packet manager assumes ownership of the packet that has been received. It is responsible for either relinquishing ownership of the packet to another object or recycling the packet when it is no longer needed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pkt</td><td>The received data packet contained in a data header structure. </td></tr>
    <tr><td class="paramname">rcv_time</td><td>The packet receive time.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if an ACK packet should be sent immediately due to the reception of this data packet, or false if not. </dd></dl>

<p>Definition at line <a class="el" href="sliq__received__packet__manager_8cc_source.html#l00319">319</a> of file <a class="el" href="sliq__received__packet__manager_8cc_source.html">sliq_received_packet_manager.cc</a>.</p>

</div>
</div>
<a class="anchor" id="abc460dabca00de7347ffc809a04cfdf3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RcvdPktManager::BuildNextAckHdr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsliq_1_1AckHeader.html">AckHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>ack_hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classiron_1_1Time.html">iron::Time</a> &amp;&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build the next ACK header after preparing the information for it. </p>
<p>This method must be called after <a class="el" href="classsliq_1_1RcvdPktManager.html#ab7b94ee4fce7a69e17c96b748f770ba5" title="Prepare the information for the next ACK header. ">PrepareNextAckHdr()</a> without any other calls into the received packet manager in between. The information generated in <a class="el" href="classsliq_1_1RcvdPktManager.html#ab7b94ee4fce7a69e17c96b748f770ba5" title="Prepare the information for the next ACK header. ">PrepareNextAckHdr()</a> is used to build the ACK header in this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ack_hdr</td><td>A reference to the ACK header that is to be updated. </td></tr>
    <tr><td class="paramname">now</td><td>The current time.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if ACK header is created successfully. </dd></dl>

<p>Definition at line <a class="el" href="sliq__received__packet__manager_8cc_source.html#l00924">924</a> of file <a class="el" href="sliq__received__packet__manager_8cc_source.html">sliq_received_packet_manager.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a7d008558eaf70b28adf05eec8767ae0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RcvdPktManager::GetNextAppPkt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiron_1_1Packet.html">iron::Packet</a> *&amp;&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>payload_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>payload_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>fin_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the next packet for the application. </p>
<p>If a packet is available for delivery to the application, the caller assumes ownership of the Packet and is responsible for recycling it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pkt</td><td>The packet to be delivered to the application. </td></tr>
    <tr><td class="paramname">payload_offset</td><td>The payload offset. </td></tr>
    <tr><td class="paramname">payload_len</td><td>The payload length. </td></tr>
    <tr><td class="paramname">fin_flag</td><td>Indicates if the packet has the FIN flag set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if there is a packet available for delivery to the application, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="sliq__received__packet__manager_8cc_source.html#l00578">578</a> of file <a class="el" href="sliq__received__packet__manager_8cc_source.html">sliq_received_packet_manager.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a3f83e52d2f41f61e0053f7aa7437be33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RcvdPktManager::Initialize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsliq_1_1Reliability.html">Reliability</a> &amp;&#160;</td>
          <td class="paramname"><em>rel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesliq.html#a2cea8bad5210dbff929ca47b3f7acb7b">DeliveryMode</a>&#160;</td>
          <td class="paramname"><em>del_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PktSeqNumber&#160;</td>
          <td class="paramname"><em>init_seq_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the received packet manager. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rel</td><td>The reliability settings for the stream. </td></tr>
    <tr><td class="paramname">del_mode</td><td>The delivery mode to the application. </td></tr>
    <tr><td class="paramname">init_seq_num</td><td>The initial sequence number that will be received.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, or false on error. </dd></dl>

<p>Definition at line <a class="el" href="sliq__received__packet__manager_8cc_source.html#l00199">199</a> of file <a class="el" href="sliq__received__packet__manager_8cc_source.html">sliq_received_packet_manager.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a8aea9c97f49f981ad37db55569c75ad9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RcvdPktManager::IsAllDataAndFinConsumed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if all of the data packets, including the data packet with the FIN, have been consumed (delivered to the application). </p>
<dl class="section return"><dt>Returns</dt><dd>True if all of the data packets, including the data packet with the FIN, have been consumed, or false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="sliq__received__packet__manager_8cc_source.html#l00992">992</a> of file <a class="el" href="sliq__received__packet__manager_8cc_source.html">sliq_received_packet_manager.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a8f6628e08e5e8eca766438a68a479e72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RcvdPktManager::IsDataMissing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if there are any missing data packets. </p>
<dl class="section return"><dt>Returns</dt><dd>True if there is at least one missing data packet, or false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="sliq__received__packet__manager_8cc_source.html#l00984">984</a> of file <a class="el" href="sliq__received__packet__manager_8cc_source.html">sliq_received_packet_manager.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a8002657d0337bf70d1fa8607c90f516f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RcvdPktManager::IsGoodDataPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsliq_1_1DataHeader.html">DataHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check that received data packet is good before processing it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pkt</td><td>A reference to the received data packet.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the data packet is not a duplicate, or false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="sliq__received__packet__manager_8cc_source.html#l00286">286</a> of file <a class="el" href="sliq__received__packet__manager_8cc_source.html">sliq_received_packet_manager.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a3495599909c1c4987ed491731e3f6850"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RcvdPktManager::MoveForward </td>
          <td>(</td>
          <td class="paramtype">PktSeqNumber&#160;</td>
          <td class="paramname"><em>ne_seq_num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the receive window based on a received move forward packet. </p>
<p>Only called if the reliability mode is not RELIABLE_ARQ.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ne_seq_num</td><td>The next expected sequence number reported in the packet.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if an ACK packet should be sent immediately due to the reception of this data packet, or false if not. </dd></dl>

<p>Definition at line <a class="el" href="sliq__received__packet__manager_8cc_source.html#l00731">731</a> of file <a class="el" href="sliq__received__packet__manager_8cc_source.html">sliq_received_packet_manager.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ab7b94ee4fce7a69e17c96b748f770ba5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t RcvdPktManager::PrepareNextAckHdr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare the information for the next ACK header. </p>
<p>This method is used to prepare the information for and get the length of the next ACK header. The length can then be used in order to determine if it will fit within a given packet before actually building the ACK header. It must be called before calling GetNextAckHdr(), which will actually build the next ACK header using the information generated in this method.</p>
<dl class="section return"><dt>Returns</dt><dd>The size of the next ACK header in bytes. </dd></dl>

<p>Definition at line <a class="el" href="sliq__received__packet__manager_8cc_source.html#l00849">849</a> of file <a class="el" href="sliq__received__packet__manager_8cc_source.html">sliq_received_packet_manager.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/szabele/github/IRON/iron/sliq/src/<a class="el" href="sliq__received__packet__manager_8h_source.html">sliq_received_packet_manager.h</a></li>
<li>/home/szabele/github/IRON/iron/sliq/src/<a class="el" href="sliq__received__packet__manager_8cc_source.html">sliq_received_packet_manager.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesliq.html">sliq</a></li><li class="navelem"><a class="el" href="classsliq_1_1RcvdPktManager.html">RcvdPktManager</a></li>
    <li class="footer">Generated on Fri Feb 26 2021 11:31:59 for IRON by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
