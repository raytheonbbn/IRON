<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>IRON: iron::DebuggingStats Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IRON
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classiron_1_1DebuggingStats.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classiron_1_1DebuggingStats-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">iron::DebuggingStats Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class for maintaining statistics in memory and logging during shut down.  
 <a href="classiron_1_1DebuggingStats.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="debugging__stats_8h_source.html">debugging_stats.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2950a825a299d34eae57371c4b0fa9bf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2950a825a299d34eae57371c4b0fa9bf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1DebuggingStats.html#a2950a825a299d34eae57371c4b0fa9bf">DebuggingStats</a> ()</td></tr>
<tr class="memdesc:a2950a825a299d34eae57371c4b0fa9bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br /></td></tr>
<tr class="separator:a2950a825a299d34eae57371c4b0fa9bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecd45fb9389e6ec5e7b1a44ba35d1ec5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aecd45fb9389e6ec5e7b1a44ba35d1ec5"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1DebuggingStats.html#aecd45fb9389e6ec5e7b1a44ba35d1ec5">~DebuggingStats</a> ()</td></tr>
<tr class="memdesc:aecd45fb9389e6ec5e7b1a44ba35d1ec5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:aecd45fb9389e6ec5e7b1a44ba35d1ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5e3e75eb7847c767d7ec9ee1de79b8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1DebuggingStats.html#ad5e3e75eb7847c767d7ec9ee1de79b8c">TrackStat</a> (const char *name, uint64_t value)</td></tr>
<tr class="memdesc:ad5e3e75eb7847c767d7ec9ee1de79b8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Track the current value of the named statistic for amortization.  <a href="#ad5e3e75eb7847c767d7ec9ee1de79b8c">More...</a><br /></td></tr>
<tr class="separator:ad5e3e75eb7847c767d7ec9ee1de79b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8522300b82e41f4af4172e3467b917c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1DebuggingStats.html#a8522300b82e41f4af4172e3467b917c6">CountOccurrences</a> (const char *name, <a class="el" href="classiron_1_1Time.html">Time</a> period)</td></tr>
<tr class="memdesc:a8522300b82e41f4af4172e3467b917c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count how many times something happens during the amortization period.  <a href="#a8522300b82e41f4af4172e3467b917c6">More...</a><br /></td></tr>
<tr class="separator:a8522300b82e41f4af4172e3467b917c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59d9e8d7bad6f38437ed3dacb9d0b209"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1DebuggingStats.html#a59d9e8d7bad6f38437ed3dacb9d0b209">TrackInstant</a> (const char *name, uint64_t value, uint64_t collection_len_usec)</td></tr>
<tr class="memdesc:a59d9e8d7bad6f38437ed3dacb9d0b209"><td class="mdescLeft">&#160;</td><td class="mdescRight">Track the current value of the named statistic without amortization.  <a href="#a59d9e8d7bad6f38437ed3dacb9d0b209">More...</a><br /></td></tr>
<tr class="separator:a59d9e8d7bad6f38437ed3dacb9d0b209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a093866077be9683e22bb9f66a82040fa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a093866077be9683e22bb9f66a82040fa"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1DebuggingStats.html#a093866077be9683e22bb9f66a82040fa">LogStats</a> ()</td></tr>
<tr class="memdesc:a093866077be9683e22bb9f66a82040fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs the statistics table. <br /></td></tr>
<tr class="separator:a093866077be9683e22bb9f66a82040fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:acca031577558c35888a62ab82a2c4ecb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1DebuggingStats.html#acca031577558c35888a62ab82a2c4ecb">LogInstant</a> (const char *name, int64_t value)</td></tr>
<tr class="memdesc:acca031577558c35888a62ab82a2c4ecb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantly log the current value of the named statistic.  <a href="#acca031577558c35888a62ab82a2c4ecb">More...</a><br /></td></tr>
<tr class="separator:acca031577558c35888a62ab82a2c4ecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for maintaining statistics in memory and logging during shut down. </p>
<p>To track a statistic (average, min, max over short periods of time), just add a call to "TrackStat" with a unique name and the current value. Values are collected in memory in CurrentDataItem structures (there is one structure for each collected statistic). Once every kStatInterval time intervals, these are converted to an avg/min/max value and stored in StatDataItem structures (one structure stored for each statistic, for each time interval). The values are printed during shut down.</p>
<p>To track all values of a data item over a short period of time (for instance, to track variability in a value), add a call to "TrackInstant" with a unique name, the current value, and the maximum time into the experiment when we should collect this statistic. The kMaxVals values leading up to the specified time into the experiment will be stored in an InstantStatData structure. There is one such structure for each statistic being collected. Values will be replaced until we hit the specified time for that statistic, and will be printed during shut down. </p>

<p>Definition at line <a class="el" href="debugging__stats_8h_source.html#l00075">75</a> of file <a class="el" href="debugging__stats_8h_source.html">debugging_stats.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a8522300b82e41f4af4172e3467b917c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DebuggingStats::CountOccurrences </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classiron_1_1Time.html">Time</a>&#160;</td>
          <td class="paramname"><em>period</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Count how many times something happens during the amortization period. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>A unique name for this statistic. </td></tr>
    <tr><td class="paramname">period</td><td>How often we should reset the counter. Applies to resetting the previous period, if we're call this with the same name but different periods. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="debugging__stats_8cc_source.html#l00126">126</a> of file <a class="el" href="debugging__stats_8cc_source.html">debugging_stats.cc</a>.</p>

</div>
</div>
<a class="anchor" id="acca031577558c35888a62ab82a2c4ecb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DebuggingStats::LogInstant </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Instantly log the current value of the named statistic. </p>
<p>This is useful to log values in the same format as the <a class="el" href="classiron_1_1DebuggingStats.html#a093866077be9683e22bb9f66a82040fa" title="Logs the statistics table. ">LogStats()</a> function, so that the same script can be used to plot all changes to a value.</p>
<p>This function is static so that it can be used even without access to a <a class="el" href="classiron_1_1DebuggingStats.html" title="Class for maintaining statistics in memory and logging during shut down. ">DebuggingStats</a> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>A unique name for this statistic. </td></tr>
    <tr><td class="paramname">value</td><td>The current value of this statistic. This is a signed value to make it more flexible. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="debugging__stats_8cc_source.html#l00204">204</a> of file <a class="el" href="debugging__stats_8cc_source.html">debugging_stats.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a59d9e8d7bad6f38437ed3dacb9d0b209"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DebuggingStats::TrackInstant </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>collection_len_usec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Track the current value of the named statistic without amortization. </p>
<p>All values of this stat will be logged (until the array is filled).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>A unique name for this statistic. </td></tr>
    <tr><td class="paramname">value</td><td>The current value of this statistic. </td></tr>
    <tr><td class="paramname">collection_len_usec</td><td>After how many seconds (from start time) should we stop collecting this stat? Ignored after the first call for this stat. If 0, this will collect at the start of the experiment until we have the max number of values. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="debugging__stats_8cc_source.html#l00167">167</a> of file <a class="el" href="debugging__stats_8cc_source.html">debugging_stats.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ad5e3e75eb7847c767d7ec9ee1de79b8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DebuggingStats::TrackStat </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Track the current value of the named statistic for amortization. </p>
<p>This stat will be amortized over time intervals with one log statement per interval.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>A unique name for this statistic. </td></tr>
    <tr><td class="paramname">value</td><td>The current value of this statistic. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="debugging__stats_8cc_source.html#l00081">81</a> of file <a class="el" href="debugging__stats_8cc_source.html">debugging_stats.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/szabele/github/IRON/iron/common/include/<a class="el" href="debugging__stats_8h_source.html">debugging_stats.h</a></li>
<li>/home/szabele/github/IRON/iron/common/src/<a class="el" href="debugging__stats_8cc_source.html">debugging_stats.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceiron.html">iron</a></li><li class="navelem"><a class="el" href="classiron_1_1DebuggingStats.html">DebuggingStats</a></li>
    <li class="footer">Generated on Fri Feb 26 2021 11:31:59 for IRON by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
