<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>IRON: iron::QueueStore Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IRON
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classiron_1_1QueueStore.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classiron_1_1QueueStore-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">iron::QueueStore Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Container class for Queues and <a class="el" href="classiron_1_1Queue.html">Queue</a> Value Management for all multicast groups and destinations and for all unicast destinations. This does not depend on the forwarding algorithm or the queue value management algorithm. Differences due to the different algorithms are encapsulated in the per group/dest BinQueueMgrs.  
 <a href="classiron_1_1QueueStore.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="queue__store_8h_source.html">queue_store.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for iron::QueueStore:</div>
<div class="dyncontent">
<div class="center"><img src="classiron_1_1QueueStore__coll__graph.png" border="0" usemap="#iron_1_1QueueStore_coll__map" alt="Collaboration graph"/></div>
<map name="iron_1_1QueueStore_coll__map" id="iron_1_1QueueStore_coll__map">
<area shape="rect" id="node2" href="classiron_1_1BinMap.html" title="Mapping of identifiers to IRON nodes and multicast groups. " alt="" coords="492,71,587,97"/>
<area shape="rect" id="node8" href="classiron_1_1BinQueueMgr.html" title="The BinQueueMgr class stores and manages the queues for a. " alt="" coords="748,171,879,197"/>
<area shape="rect" id="node3" href="classiron_1_1PacketPool.html" title="iron::PacketPool" alt="" coords="5,136,124,163"/>
<area shape="rect" id="node10" href="classiron_1_1Queue.html" title="iron::Queue" alt="" coords="253,187,343,213"/>
<area shape="rect" id="node4" href="classiron_1_1BinIndexableArray.html" title="iron::BinIndexableArray\l\&lt; iron::QueueDepths * \&gt;" alt="" coords="903,295,1067,337"/>
<area shape="rect" id="node5" href="classiron_1_1QueueDepths.html" title="The QueueDepths class stores queue depth information for a set of bins. " alt="" coords="474,260,605,287"/>
<area shape="rect" id="node6" href="classiron_1_1SharedMemoryIF.html" title="An abstract shared memory interface. " alt="" coords="1097,364,1247,391"/>
<area shape="rect" id="node7" href="classiron_1_1BinIndexableArray.html" title="iron::BinIndexableArray\l\&lt; iron::BinQueueMgr * \&gt;" alt="" coords="1091,173,1253,214"/>
<area shape="rect" id="node9" href="structiron_1_1LatencyQueue.html" title="iron::LatencyQueue" alt="" coords="472,187,607,213"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a83e2b6696d399e86a640986b8e2dfc80"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a83e2b6696d399e86a640986b8e2dfc80">QueueStore</a> (<a class="el" href="classiron_1_1PacketPool.html">PacketPool</a> &amp;packet_pool, <a class="el" href="classiron_1_1BinMap.html">BinMap</a> &amp;bin_map, <a class="el" href="classiron_1_1SharedMemoryIF.html">SharedMemoryIF</a> &amp;weight_qd_shared_memory)</td></tr>
<tr class="memdesc:a83e2b6696d399e86a640986b8e2dfc80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a83e2b6696d399e86a640986b8e2dfc80">More...</a><br /></td></tr>
<tr class="separator:a83e2b6696d399e86a640986b8e2dfc80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad75e9647c49f343139325139bb162b15"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad75e9647c49f343139325139bb162b15"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#ad75e9647c49f343139325139bb162b15">~QueueStore</a> ()</td></tr>
<tr class="memdesc:ad75e9647c49f343139325139bb162b15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:ad75e9647c49f343139325139bb162b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6b5e769c900c384d2d0ae45816e541f"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#ae6b5e769c900c384d2d0ae45816e541f">Initialize</a> (const <a class="el" href="classiron_1_1ConfigInfo.html">ConfigInfo</a> &amp;config_info, <a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> node_bin_idx)</td></tr>
<tr class="memdesc:ae6b5e769c900c384d2d0ae45816e541f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the queue depth manager.  <a href="#ae6b5e769c900c384d2d0ae45816e541f">More...</a><br /></td></tr>
<tr class="separator:ae6b5e769c900c384d2d0ae45816e541f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0bd55036f60feffe94e17e997de4b35"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#ad0bd55036f60feffe94e17e997de4b35">AddQueueMgr</a> (const <a class="el" href="classiron_1_1ConfigInfo.html">ConfigInfo</a> &amp;config_info, <a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> q_bin_idx, <a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> node_bin_idx)</td></tr>
<tr class="memdesc:ad0bd55036f60feffe94e17e997de4b35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a queue manager to the queue store.  <a href="#ad0bd55036f60feffe94e17e997de4b35">More...</a><br /></td></tr>
<tr class="separator:ad0bd55036f60feffe94e17e997de4b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e61fa1899fa048ea3b0d059344f3e09"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a4e61fa1899fa048ea3b0d059344f3e09">PeriodicAdjustQueueValues</a> ()</td></tr>
<tr class="memdesc:a4e61fa1899fa048ea3b0d059344f3e09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle any queue depth adjustments needed on a low-fidelity timer for all groups.  <a href="#a4e61fa1899fa048ea3b0d059344f3e09">More...</a><br /></td></tr>
<tr class="separator:a4e61fa1899fa048ea3b0d059344f3e09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe601fab370ee4f21a9218a8a20f080"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#adfe601fab370ee4f21a9218a8a20f080">GetQueueDepthsForBpfQlam</a> (<a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> idx)</td></tr>
<tr class="memdesc:adfe601fab370ee4f21a9218a8a20f080"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the queue depths to be used to generate a QLAM to BPF.  <a href="#adfe601fab370ee4f21a9218a8a20f080">More...</a><br /></td></tr>
<tr class="separator:adfe601fab370ee4f21a9218a8a20f080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e008fa91db57e0744f04b64383f208d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a5e008fa91db57e0744f04b64383f208d">GetQueueDepthsForBpf</a> (<a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> idx)</td></tr>
<tr class="memdesc:a5e008fa91db57e0744f04b64383f208d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the queue depths for use in the BPF algorithm.  <a href="#a5e008fa91db57e0744f04b64383f208d">More...</a><br /></td></tr>
<tr class="separator:a5e008fa91db57e0744f04b64383f208d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8fe78baed1ae01c044f6640f9dd6660"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#ae8fe78baed1ae01c044f6640f9dd6660">GetVirtQueueDepths</a> ()</td></tr>
<tr class="memdesc:ae8fe78baed1ae01c044f6640f9dd6660"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the virtual queue depths for use in the BPF algorithm.  <a href="#ae8fe78baed1ae01c044f6640f9dd6660">More...</a><br /></td></tr>
<tr class="separator:ae8fe78baed1ae01c044f6640f9dd6660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cceba5d09a6a88b09f80870c9787303"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a3cceba5d09a6a88b09f80870c9787303">SetSupportEfForAllGroups</a> (bool support)</td></tr>
<tr class="memdesc:a3cceba5d09a6a88b09f80870c9787303"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set support for EF traffic queues.  <a href="#a3cceba5d09a6a88b09f80870c9787303">More...</a><br /></td></tr>
<tr class="separator:a3cceba5d09a6a88b09f80870c9787303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e544b022c7a5057babbbfcfcd27ea56"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a0e544b022c7a5057babbbfcfcd27ea56">SetNbrQueueDepths</a> (<a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> dst_bid_idx, <a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> nbr_bin_idx, <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> *qd)</td></tr>
<tr class="memdesc:a0e544b022c7a5057babbbfcfcd27ea56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the passed queue depth object for a nbr seen on a particular path controller. Memory ownership is kept with <a class="el" href="classiron_1_1QueueStore.html" title="Container class for Queues and Queue Value Management for all multicast groups and destinations and f...">QueueStore</a> FOR EVER. The Delete method below needs to be invoked to remove a queue depth object from the map.  <a href="#a0e544b022c7a5057babbbfcfcd27ea56">More...</a><br /></td></tr>
<tr class="separator:a0e544b022c7a5057babbbfcfcd27ea56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c7ebe5dc71d46e995d96b9d50158bbb"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a2c7ebe5dc71d46e995d96b9d50158bbb">PeekNbrQueueDepths</a> (<a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> dst_bin_idx, <a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> nbr_bin_idx)</td></tr>
<tr class="memdesc:a2c7ebe5dc71d46e995d96b9d50158bbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Peek at the queue depth object for a neighbor bin index and a unicast or multicast destination bin index.  <a href="#a2c7ebe5dc71d46e995d96b9d50158bbb">More...</a><br /></td></tr>
<tr class="separator:a2c7ebe5dc71d46e995d96b9d50158bbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12788d9b3f025724e35305c7d9703cd2"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a12788d9b3f025724e35305c7d9703cd2">SetNbrVirtQueueDepths</a> (<a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> bidx, <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> *qd)</td></tr>
<tr class="memdesc:a12788d9b3f025724e35305c7d9703cd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the passed virtual queue depth object for a nbr seen on a particular path controller. Memory ownership is kept with <a class="el" href="classiron_1_1QueueStore.html" title="Container class for Queues and Queue Value Management for all multicast groups and destinations and f...">QueueStore</a> FOR EVER. The Delete method below needs to be invoked to remove a virtual queue depth object from the map.  <a href="#a12788d9b3f025724e35305c7d9703cd2">More...</a><br /></td></tr>
<tr class="separator:a12788d9b3f025724e35305c7d9703cd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfafc40b20ec2b7a14e70aceb6cc0dc6"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#acfafc40b20ec2b7a14e70aceb6cc0dc6">PeekNbrVirtQueueDepths</a> (<a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> bidx)</td></tr>
<tr class="memdesc:acfafc40b20ec2b7a14e70aceb6cc0dc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Peek the virtual queue depth object for a nbr seen on a particular path controller. Memory ownership is kept with <a class="el" href="classiron_1_1QueueStore.html" title="Container class for Queues and Queue Value Management for all multicast groups and destinations and f...">QueueStore</a>, although the calling object can manipulate the returned queue depth object (add, remove bins, etc.).  <a href="#acfafc40b20ec2b7a14e70aceb6cc0dc6">More...</a><br /></td></tr>
<tr class="separator:acfafc40b20ec2b7a14e70aceb6cc0dc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac710287007223921e258b7506525148f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#ac710287007223921e258b7506525148f">DeleteNbrVirtQueueDepths</a> (<a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> bidx)</td></tr>
<tr class="memdesc:ac710287007223921e258b7506525148f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the virtual queue depth object associated with a nbr seen on a particular path controller. The queue depth object is freed and entry is removed from map.  <a href="#ac710287007223921e258b7506525148f">More...</a><br /></td></tr>
<tr class="separator:ac710287007223921e258b7506525148f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f7b1a6b07c95a6f469d37ae053c334"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2f7b1a6b07c95a6f469d37ae053c334"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#af2f7b1a6b07c95a6f469d37ae053c334">PrintDepths</a> ()</td></tr>
<tr class="memdesc:af2f7b1a6b07c95a6f469d37ae053c334"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to print the state of the queues. <br /></td></tr>
<tr class="separator:af2f7b1a6b07c95a6f469d37ae053c334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0747a58ef6ef92ca58194388f286292d"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classiron_1_1BinQueueMgr.html">BinQueueMgr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a0747a58ef6ef92ca58194388f286292d">GetBinQueueMgr</a> (<a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> bin_idx)</td></tr>
<tr class="memdesc:a0747a58ef6ef92ca58194388f286292d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the bin queue mgr.  <a href="#a0747a58ef6ef92ca58194388f286292d">More...</a><br /></td></tr>
<tr class="separator:a0747a58ef6ef92ca58194388f286292d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07db3523edb612cbe9c62e3ecb7e98c6"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a07db3523edb612cbe9c62e3ecb7e98c6">GetWQueueDepths</a> ()</td></tr>
<tr class="memdesc:a07db3523edb612cbe9c62e3ecb7e98c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a copy of the weighted queue depths.  <a href="#a07db3523edb612cbe9c62e3ecb7e98c6">More...</a><br /></td></tr>
<tr class="separator:a07db3523edb612cbe9c62e3ecb7e98c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263e380fd56e96d2a1b330b4604f755f"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a263e380fd56e96d2a1b330b4604f755f">PublishWQueueDepthsToShm</a> ()</td></tr>
<tr class="memdesc:a263e380fd56e96d2a1b330b4604f755f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the queue weights to shared memory.  <a href="#a263e380fd56e96d2a1b330b4604f755f">More...</a><br /></td></tr>
<tr class="separator:a263e380fd56e96d2a1b330b4604f755f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba54c315b12245c5eb070919cdba7c2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#aba54c315b12245c5eb070919cdba7c2b">ProcessCapacityUpdate</a> (uint32_t pc_num, double capacity_bps)</td></tr>
<tr class="memdesc:aba54c315b12245c5eb070919cdba7c2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward a capacity update to the <a class="el" href="classiron_1_1BinQueueMgr.html" title="The BinQueueMgr class stores and manages the queues for a. ">BinQueueMgr</a>.  <a href="#aba54c315b12245c5eb070919cdba7c2b">More...</a><br /></td></tr>
<tr class="separator:aba54c315b12245c5eb070919cdba7c2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e3c0d1c6706f97908d4ed427c8a9b13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a8e3c0d1c6706f97908d4ed427c8a9b13">ProcessGradientUpdate</a> (<a class="el" href="classiron_1_1OrderedList.html">OrderedList</a>&lt; <a class="el" href="structiron_1_1Gradient.html">Gradient</a>, int64_t &gt; &amp;ls_gradients, <a class="el" href="classiron_1_1OrderedList.html">OrderedList</a>&lt; <a class="el" href="structiron_1_1Gradient.html">Gradient</a>, int64_t &gt; &amp;gradients)</td></tr>
<tr class="memdesc:a8e3c0d1c6706f97908d4ed427c8a9b13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes and passes gradient info on to the <a class="el" href="classiron_1_1ASAP.html" title="The ASAP class contains the state and logic for the ASAP algorithm. ">ASAP</a> managers.  <a href="#a8e3c0d1c6706f97908d4ed427c8a9b13">More...</a><br /></td></tr>
<tr class="separator:a8e3c0d1c6706f97908d4ed427c8a9b13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6869726f75f0c52b0f3da241d5b29a2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a6869726f75f0c52b0f3da241d5b29a2d">SetDebuggingStats</a> (<a class="el" href="classiron_1_1DebuggingStats.html">DebuggingStats</a> *debug_stats)</td></tr>
<tr class="memdesc:a6869726f75f0c52b0f3da241d5b29a2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a reference to a <a class="el" href="classiron_1_1DebuggingStats.html" title="Class for maintaining statistics in memory and logging during shut down. ">DebuggingStats</a> object in the bin queue mgr.  <a href="#a6869726f75f0c52b0f3da241d5b29a2d">More...</a><br /></td></tr>
<tr class="separator:a6869726f75f0c52b0f3da241d5b29a2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda269dcdf460f548d85f4a6983a36b8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#adda269dcdf460f548d85f4a6983a36b8">AreQueuesEmpty</a> (<a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a> bidx)</td></tr>
<tr class="memdesc:adda269dcdf460f548d85f4a6983a36b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the queues to a mcast group index are empty.  <a href="#adda269dcdf460f548d85f4a6983a36b8">More...</a><br /></td></tr>
<tr class="separator:adda269dcdf460f548d85f4a6983a36b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b767e772886c5623d8b17827eb43147"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a7b767e772886c5623d8b17827eb43147">AreQueuesEmpty</a> ()</td></tr>
<tr class="memdesc:a7b767e772886c5623d8b17827eb43147"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if all the queues are empty.  <a href="#a7b767e772886c5623d8b17827eb43147">More...</a><br /></td></tr>
<tr class="separator:a7b767e772886c5623d8b17827eb43147"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad6344e02d1af2ab41c51b3da3843365c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6344e02d1af2ab41c51b3da3843365c"></a>
<a class="el" href="classiron_1_1PacketPool.html">PacketPool</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#ad6344e02d1af2ab41c51b3da3843365c">packet_pool_</a></td></tr>
<tr class="memdesc:ad6344e02d1af2ab41c51b3da3843365c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pool containing packets to use. <br /></td></tr>
<tr class="separator:ad6344e02d1af2ab41c51b3da3843365c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a103253d4db989a41d5faa7edf51f3ab8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a103253d4db989a41d5faa7edf51f3ab8"></a>
<a class="el" href="classiron_1_1BinMap.html">BinMap</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a103253d4db989a41d5faa7edf51f3ab8">bin_map_</a></td></tr>
<tr class="memdesc:a103253d4db989a41d5faa7edf51f3ab8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference to the bin map. <br /></td></tr>
<tr class="separator:a103253d4db989a41d5faa7edf51f3ab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b210e7e233429f453ca1138209985a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classiron_1_1BinIndexableArray.html">BinIndexableArray</a>&lt; <a class="el" href="classiron_1_1BinQueueMgr.html">BinQueueMgr</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a1b210e7e233429f453ca1138209985a8">q_mgrs_</a></td></tr>
<tr class="separator:a1b210e7e233429f453ca1138209985a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a913c3aebe89251e009ff24462e404af9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a913c3aebe89251e009ff24462e404af9"></a>
<a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a913c3aebe89251e009ff24462e404af9">virtual_queue_depths_</a></td></tr>
<tr class="memdesc:a913c3aebe89251e009ff24462e404af9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="classiron_1_1QueueDepths.html" title="The QueueDepths class stores queue depth information for a set of bins. ">QueueDepths</a> associated with this local node's virtual queue. <br /></td></tr>
<tr class="separator:a913c3aebe89251e009ff24462e404af9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d1a0fb4f6c2fdd8e3a6131faa483b31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classiron_1_1SharedMemoryIF.html">SharedMemoryIF</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#a4d1a0fb4f6c2fdd8e3a6131faa483b31">weight_qd_shared_memory_</a></td></tr>
<tr class="separator:a4d1a0fb4f6c2fdd8e3a6131faa483b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3dd721ebf042bd5c0380bfdc8285c55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classiron_1_1BinIndexableArray.html">BinIndexableArray</a>&lt; <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1QueueStore.html#ab3dd721ebf042bd5c0380bfdc8285c55">nbr_virtual_queue_depths_</a></td></tr>
<tr class="separator:ab3dd721ebf042bd5c0380bfdc8285c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Container class for Queues and <a class="el" href="classiron_1_1Queue.html">Queue</a> Value Management for all multicast groups and destinations and for all unicast destinations. This does not depend on the forwarding algorithm or the queue value management algorithm. Differences due to the different algorithms are encapsulated in the per group/dest BinQueueMgrs. </p>

<p>Definition at line <a class="el" href="queue__store_8h_source.html#l00069">69</a> of file <a class="el" href="queue__store_8h_source.html">queue_store.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a83e2b6696d399e86a640986b8e2dfc80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QueueStore::QueueStore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiron_1_1PacketPool.html">PacketPool</a> &amp;&#160;</td>
          <td class="paramname"><em>packet_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classiron_1_1BinMap.html">BinMap</a> &amp;&#160;</td>
          <td class="paramname"><em>bin_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classiron_1_1SharedMemoryIF.html">SharedMemoryIF</a> &amp;&#160;</td>
          <td class="paramname"><em>weight_qd_shared_memory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet_pool</td><td>Pool containing packet to use. </td></tr>
    <tr><td class="paramname">bin_map</td><td>IRON bin mapping. </td></tr>
    <tr><td class="paramname">weight_qd_shared_memory</td><td>Memory to share weight queue depths </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="queue__store_8cc_source.html#l00088">88</a> of file <a class="el" href="queue__store_8cc_source.html">queue_store.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad0bd55036f60feffe94e17e997de4b35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void QueueStore::AddQueueMgr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiron_1_1ConfigInfo.html">ConfigInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>config_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>q_bin_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>node_bin_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a queue manager to the queue store. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config_info</td><td>The reference to the config info object used to initialize values. </td></tr>
    <tr><td class="paramname">q_bin_idx</td><td>The bin index associated with the new queue. </td></tr>
    <tr><td class="paramname">node_bin_idx</td><td>The node's bin index. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="queue__store_8cc_source.html#l00294">294</a> of file <a class="el" href="queue__store_8cc_source.html">queue_store.cc</a>.</p>

</div>
</div>
<a class="anchor" id="adda269dcdf460f548d85f4a6983a36b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool iron::QueueStore::AreQueuesEmpty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>bidx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the queues to a mcast group index are empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bidx</td><td>The bin index of the mcast group.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the queues to the destination are empty, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="queue__store_8h_source.html#l00341">341</a> of file <a class="el" href="queue__store_8h_source.html">queue_store.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7b767e772886c5623d8b17827eb43147"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool iron::QueueStore::AreQueuesEmpty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if all the queues are empty. </p>
<p>MCAST TODO: Optimize once we have the shared memory structures in place.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the queues are empty, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="queue__store_8h_source.html#l00352">352</a> of file <a class="el" href="queue__store_8h_source.html">queue_store.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac710287007223921e258b7506525148f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void QueueStore::DeleteNbrVirtQueueDepths </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>bidx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete the virtual queue depth object associated with a nbr seen on a particular path controller. The queue depth object is freed and entry is removed from map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bidx</td><td>The bin index of the neighbor. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="queue__store_8cc_source.html#l00428">428</a> of file <a class="el" href="queue__store_8cc_source.html">queue_store.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a0747a58ef6ef92ca58194388f286292d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classiron_1_1BinQueueMgr.html">BinQueueMgr</a>* iron::QueueStore::GetBinQueueMgr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>bin_idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the bin queue mgr. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bin_idx</td><td>The unicast or multicast bin index for which we want the queue manager.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return a reference to the bin queue mgr object. </dd></dl>

<p>Definition at line <a class="el" href="queue__store_8h_source.html#l00271">271</a> of file <a class="el" href="queue__store_8h_source.html">queue_store.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5e008fa91db57e0744f04b64383f208d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a>* iron::QueueStore::GetQueueDepthsForBpf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the queue depths for use in the BPF algorithm. </p>
<p>Memory ownership is transferred to the calling object. However, that object shall NOT destroy / free the returned QueueDepth object. It is however free to modify it by adding and removing elements to it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idx</td><td>The unicast or multicast destination bin index.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the queue depths object for use in BPF. </dd></dl>

<p>Definition at line <a class="el" href="queue__store_8h_source.html#l00149">149</a> of file <a class="el" href="queue__store_8h_source.html">queue_store.h</a>.</p>

</div>
</div>
<a class="anchor" id="adfe601fab370ee4f21a9218a8a20f080"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a>* iron::QueueStore::GetQueueDepthsForBpfQlam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the queue depths to be used to generate a QLAM to BPF. </p>
<p>Memory ownership is transferred to the calling object. However, that object shall NOT destroy / free the returned QueueDepth object. It is however free to modify it by adding and removing elements to it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idx</td><td>The unicast destination bin index.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the queue depths object to be used in QLAM. </dd></dl>

<p>Definition at line <a class="el" href="queue__store_8h_source.html#l00133">133</a> of file <a class="el" href="queue__store_8h_source.html">queue_store.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae8fe78baed1ae01c044f6640f9dd6660"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a>* iron::QueueStore::GetVirtQueueDepths </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the virtual queue depths for use in the BPF algorithm. </p>
<p>Memory ownership is transferred to the calling object. However, that object shall NOT destroy / free the returned QueueDepth object. It is however free to modify it by adding and removing elements to it.</p>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the virtual queue depths object for the queues. </dd></dl>

<p>Definition at line <a class="el" href="queue__store_8h_source.html#l00163">163</a> of file <a class="el" href="queue__store_8h_source.html">queue_store.h</a>.</p>

</div>
</div>
<a class="anchor" id="a07db3523edb612cbe9c62e3ecb7e98c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> * QueueStore::GetWQueueDepths </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a copy of the weighted queue depths. </p>
<dl class="section return"><dt>Returns</dt><dd>A queue depths object with the weights exposed to the proxies.. </dd></dl>

<p>Definition at line <a class="el" href="queue__store_8cc_source.html#l00340">340</a> of file <a class="el" href="queue__store_8cc_source.html">queue_store.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ae6b5e769c900c384d2d0ae45816e541f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool QueueStore::Initialize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiron_1_1ConfigInfo.html">ConfigInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>config_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>node_bin_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the queue depth manager. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config_info</td><td>The reference to the config info object used to initialize values. </td></tr>
    <tr><td class="paramname">node_bin_idx</td><td>The node's bin index.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if success, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="queue__store_8cc_source.html#l00142">142</a> of file <a class="el" href="queue__store_8cc_source.html">queue_store.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a2c7ebe5dc71d46e995d96b9d50158bbb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> * QueueStore::PeekNbrQueueDepths </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>dst_bin_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>nbr_bin_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Peek at the queue depth object for a neighbor bin index and a unicast or multicast destination bin index. </p>
<p>Memory ownership is kept with <a class="el" href="classiron_1_1QueueStore.html" title="Container class for Queues and Queue Value Management for all multicast groups and destinations and f...">QueueStore</a>, although the calling object can manipulate the returned queue depth object (add, remove bins, etc.).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst_bin_idx</td><td>The bin index representing the unicast or multicast destination. </td></tr>
    <tr><td class="paramname">nbr_bin_idx</td><td>The bin index of the neighbor. May be a unicast destination or an interior node.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the queue depths object to be associated with the path controller. NULL if nothing found. </dd></dl>

<p>Definition at line <a class="el" href="queue__store_8cc_source.html#l00392">392</a> of file <a class="el" href="queue__store_8cc_source.html">queue_store.cc</a>.</p>

</div>
</div>
<a class="anchor" id="acfafc40b20ec2b7a14e70aceb6cc0dc6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> * QueueStore::PeekNbrVirtQueueDepths </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>bidx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Peek the virtual queue depth object for a nbr seen on a particular path controller. Memory ownership is kept with <a class="el" href="classiron_1_1QueueStore.html" title="Container class for Queues and Queue Value Management for all multicast groups and destinations and f...">QueueStore</a>, although the calling object can manipulate the returned queue depth object (add, remove bins, etc.). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bidx</td><td>The bin index of the neighbor.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the virtual queue depths object to be associated with the path controller. NULL if nothing found. </dd></dl>

<p>Definition at line <a class="el" href="queue__store_8cc_source.html#l00422">422</a> of file <a class="el" href="queue__store_8cc_source.html">queue_store.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a4e61fa1899fa048ea3b0d059344f3e09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void QueueStore::PeriodicAdjustQueueValues </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle any queue depth adjustments needed on a low-fidelity timer for all groups. </p>
<p>Used to handle anti-starvation and by subclasses to manage other queue depth adjustements.</p>
<p>For the base class, this just triggers anti-starvation adjustments.</p>
<p>This will be called at least once per BPF select loop. Timing is handled internally within the function so that different queue depth managers can act at different time scales. </p>

<p>Definition at line <a class="el" href="queue__store_8cc_source.html#l00368">368</a> of file <a class="el" href="queue__store_8cc_source.html">queue_store.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aba54c315b12245c5eb070919cdba7c2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void iron::QueueStore::ProcessCapacityUpdate </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pc_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>capacity_bps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Forward a capacity update to the <a class="el" href="classiron_1_1BinQueueMgr.html" title="The BinQueueMgr class stores and manages the queues for a. ">BinQueueMgr</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pc_num</td><td>The path controller number </td></tr>
    <tr><td class="paramname">capacity_bps</td><td>The current capacity estimate in bps </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="queue__store_8h_source.html#l00292">292</a> of file <a class="el" href="queue__store_8h_source.html">queue_store.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8e3c0d1c6706f97908d4ed427c8a9b13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QueueStore::ProcessGradientUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiron_1_1OrderedList.html">OrderedList</a>&lt; <a class="el" href="structiron_1_1Gradient.html">Gradient</a>, int64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>ls_gradients</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classiron_1_1OrderedList.html">OrderedList</a>&lt; <a class="el" href="structiron_1_1Gradient.html">Gradient</a>, int64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>gradients</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes and passes gradient info on to the <a class="el" href="classiron_1_1ASAP.html" title="The ASAP class contains the state and logic for the ASAP algorithm. ">ASAP</a> managers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ls_gradients</td><td>The ordered list of latency-sensitive gradients. </td></tr>
    <tr><td class="paramname">gradients</td><td>The ordered list of gradients. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="queue__store_8cc_source.html#l00442">442</a> of file <a class="el" href="queue__store_8cc_source.html">queue_store.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a263e380fd56e96d2a1b330b4604f755f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool QueueStore::PublishWQueueDepthsToShm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy the queue weights to shared memory. </p>
<dl class="section return"><dt>Returns</dt><dd>True if copy was successful, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="queue__store_8cc_source.html#l00358">358</a> of file <a class="el" href="queue__store_8cc_source.html">queue_store.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a6869726f75f0c52b0f3da241d5b29a2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void iron::QueueStore::SetDebuggingStats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiron_1_1DebuggingStats.html">DebuggingStats</a> *&#160;</td>
          <td class="paramname"><em>debug_stats</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a reference to a <a class="el" href="classiron_1_1DebuggingStats.html" title="Class for maintaining statistics in memory and logging during shut down. ">DebuggingStats</a> object in the bin queue mgr. </p>
<p>This will allow code in <a class="el" href="classiron_1_1BinQueueMgr.html" title="The BinQueueMgr class stores and manages the queues for a. ">BinQueueMgr</a> to track values over time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">debug_stats</td><td>Pointer to existing <a class="el" href="classiron_1_1DebuggingStats.html" title="Class for maintaining statistics in memory and logging during shut down. ">DebuggingStats</a> instance. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="queue__store_8h_source.html#l00319">319</a> of file <a class="el" href="queue__store_8h_source.html">queue_store.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0e544b022c7a5057babbbfcfcd27ea56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool QueueStore::SetNbrQueueDepths </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>dst_bid_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>nbr_bin_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> *&#160;</td>
          <td class="paramname"><em>qd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the passed queue depth object for a nbr seen on a particular path controller. Memory ownership is kept with <a class="el" href="classiron_1_1QueueStore.html" title="Container class for Queues and Queue Value Management for all multicast groups and destinations and f...">QueueStore</a> FOR EVER. The Delete method below needs to be invoked to remove a queue depth object from the map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst_bin_idx</td><td>The bin index representing the destination (unicast) or multicast group. </td></tr>
    <tr><td class="paramname">nbr_bin_idx</td><td>The bin index of the neighbor. </td></tr>
    <tr><td class="paramname">qd</td><td>The pointer to the queue depths object to be associated with the path controller.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure. </dd></dl>

<p>Definition at line <a class="el" href="queue__store_8cc_source.html#l00383">383</a> of file <a class="el" href="queue__store_8cc_source.html">queue_store.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a12788d9b3f025724e35305c7d9703cd2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool QueueStore::SetNbrVirtQueueDepths </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceiron.html#a9a5f420ded2cbb0ebfaf30509e0ce1d5">BinIndex</a>&#160;</td>
          <td class="paramname"><em>bidx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a> *&#160;</td>
          <td class="paramname"><em>qd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the passed virtual queue depth object for a nbr seen on a particular path controller. Memory ownership is kept with <a class="el" href="classiron_1_1QueueStore.html" title="Container class for Queues and Queue Value Management for all multicast groups and destinations and f...">QueueStore</a> FOR EVER. The Delete method below needs to be invoked to remove a virtual queue depth object from the map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bidx</td><td>The bin index of the neighbor. </td></tr>
    <tr><td class="paramname">qd</td><td>The pointer to the virtual queue depths object to be associated with the path controller.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure. </dd></dl>

<p>Definition at line <a class="el" href="queue__store_8cc_source.html#l00399">399</a> of file <a class="el" href="queue__store_8cc_source.html">queue_store.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a3cceba5d09a6a88b09f80870c9787303"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void iron::QueueStore::SetSupportEfForAllGroups </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>support</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set support for EF traffic queues. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">support</td><td>True to set EF support, false otherwise. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="queue__store_8h_source.html#l00171">171</a> of file <a class="el" href="queue__store_8h_source.html">queue_store.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ab3dd721ebf042bd5c0380bfdc8285c55"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classiron_1_1BinIndexableArray.html">BinIndexableArray</a>&lt;<a class="el" href="classiron_1_1QueueDepths.html">QueueDepths</a>*&gt; iron::QueueStore::nbr_virtual_queue_depths_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The array of neighbor virtual queue depths, indexed by unicast destination or interior node bin index. </p>

<p>Definition at line <a class="el" href="queue__store_8h_source.html#l00391">391</a> of file <a class="el" href="queue__store_8h_source.html">queue_store.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1b210e7e233429f453ca1138209985a8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classiron_1_1BinIndexableArray.html">BinIndexableArray</a>&lt;<a class="el" href="classiron_1_1BinQueueMgr.html">BinQueueMgr</a>*&gt; iron::QueueStore::q_mgrs_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The collection of backpressure bins indexed by destination bin index. Outgoing data packets are enqueued to a bin based its unicast or multicast destination bin index. </p>

<p>Definition at line <a class="el" href="queue__store_8h_source.html#l00379">379</a> of file <a class="el" href="queue__store_8h_source.html">queue_store.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4d1a0fb4f6c2fdd8e3a6131faa483b31"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classiron_1_1SharedMemoryIF.html">SharedMemoryIF</a>&amp; iron::QueueStore::weight_qd_shared_memory_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The shared memory object to share weight queue depths with proxies. TODO: Inspect this and decide whether this needs to be changed for mcast </p>

<p>Definition at line <a class="el" href="queue__store_8h_source.html#l00387">387</a> of file <a class="el" href="queue__store_8h_source.html">queue_store.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/szabele/github/IRON/iron/bpf/src/<a class="el" href="queue__store_8h_source.html">queue_store.h</a></li>
<li>/home/szabele/github/IRON/iron/bpf/src/<a class="el" href="queue__store_8cc_source.html">queue_store.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceiron.html">iron</a></li><li class="navelem"><a class="el" href="classiron_1_1QueueStore.html">QueueStore</a></li>
    <li class="footer">Generated on Fri Feb 26 2021 11:31:59 for IRON by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
